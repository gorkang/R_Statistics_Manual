# Importar datos{#Importar_datos}

## Desde archivo CSV

***
Vamos a usar la siguiente [base de datos](Data/Importar_datos/data_importar_datos.csv).

***

Tras descargar el archivo de arriba, lo **moveremos a nuestro directorio de trabajo 'R workshop'**. Una vez ahí, podemos usar alguna de las siguientes funciones para leer el archivo:

* `read_csv()` - comma separated values
* `read_csv2()` - semicolon separated values
* `read_delim( ,  delim = "|")` - values separated by an arbitrary delimiter


```{r, message=FALSE, warning=FALSE}
# Cargamos librerias
if (!require('tidyverse')) install.packages('tidyverse'); library('tidyverse')
    
# Establecemos directorio de trabajo
setwd("~/R workshop")
``` 
```{r}
#Importar los datos
datos = read_csv("Data/Importar_datos/data_importar_datos.csv")
    
#Muestra las primeras 10 observaciones
datos
```

En el panel 'Environment' veremos que aparece **datos**:  <BR><BR>
![](Images/datos.png)  

Haciendo click en **datos** abrimos una pestaña donde podemos ver el contenido de ese data frame. También podemos visualizarlo usando el codigo `View(datos)`  

## Desde archivo XLS

***
Vamos a usar la siguiente [base de datos](Data/Importar_datos/data_importar_datos.xls).

***

```{r, message=FALSE, warning=FALSE}
# Cargamos librerias
if (!require('readxl')) install.packages('readxl'); library('readxl')
    
# Establecemos directorio de trabajo
setwd("~/R workshop")
``` 
```{r}    
#Importar los datos
datos = read_excel("Data/Importar_datos/data_importar_datos.xls")
    
#Muestra las primeras 10 observaciones
datos
```

## Desde archivo SAV

***
Vamos a usar la siguiente [base de datos](Data/Importar_datos/data_importar_datos.sav).

***

```{r, message=FALSE, warning=FALSE}
# Cargamos librerias
if (!require('haven')) install.packages('haven'); library('haven')
    
# Establecemos directorio de trabajo
setwd("~/R workshop")
```
```{r}
#Importar los datos
datos = read_sav("Data/Importar_datos/data_importar_datos.sav")
    
#Muestra las primeras 10 observaciones
datos
```

## Importar todos los archivos de una carpeta

***
Vamos a usar los siguientes [archivos](Data/Importar_datos/CSVs/CSVs.zip). Tendrás que descomprimirlos en una carpeta antes de usarlos.

***

```{r}
if (!require('tidyverse')) install.packages('tidyverse'); library('tidyverse')

# We list all files in the desired folder
Path_Folder = "Data/Importar_datos/CSVs/"
file.list <- paste0(Path_Folder, list.files(Path_Folder)); file.list

# Read and bind all of them
    # We can use the function read_csv or any other
df = lapply(file.list, read_csv) %>% 
  bind_rows(.id = "ID")

df
```


## Importar archivos con RStudio

***
Vamos a usar la siguiente [base de datos](Data/Importar_datos/data_importar_datos.csv).

***

A partir de la version 1.0 de RStudio podemos importar archivos de datos usando la interfaz gráfica - **Panel Environment > Import Dataset**, arriba a la derecha. En cualquier caso, para que lo que hacemos sea reproducible, es recomendable trabajar con código.

![](Images/Importar_datos1.png)



![](Images/Importar_datos2.png)



# Exportar datos

## Exportar datos a archivo CSV

```{r}
# Carga libreria
if (!require('tidyverse')) install.packages('tidyverse'); library('tidyverse')
    
# Volcamos datos a archivo
write_csv(datos, "Data/Importar_datos/nombre de archivo.csv")

```


