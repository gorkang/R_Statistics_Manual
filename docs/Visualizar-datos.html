<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Visualizar datos | R - Statistics Manual</title>
  <meta name="description" content="Statistics manual from CSCN." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Visualizar datos | R - Statistics Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Statistics manual from CSCN." />
  <meta name="github-repo" content="gorkang/R_Statistics_Manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Visualizar datos | R - Statistics Manual" />
  
  <meta name="twitter:description" content="Statistics manual from CSCN." />
  

<meta name="author" content="Center for Social and Cognitive Neuroscience - cscn.uai.cl" />


<meta name="date" content="2021-03-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Manipular-datos.html"/>
<link rel="next" href="Visualizar-riesgo.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.17/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/sankey-1/sankey.js"></script>
<script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#for-users"><i class="fa fa-check"></i><b>1.1</b> For USERS</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#for-developers-and-statisticians"><i class="fa fa-check"></i><b>1.2</b> For Developers and Statisticians</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i><b>1.3</b> Contributors</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#todo"><i class="fa fa-check"></i><b>1.4</b> TODO</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#inferential-analysis"><i class="fa fa-check"></i><b>1.4.1</b> Inferential analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Empezando.html"><a href="Empezando.html"><i class="fa fa-check"></i><b>2</b> Empezando en A-B-C</a>
<ul>
<li class="chapter" data-level="2.1" data-path="Empezando.html"><a href="Empezando.html#a-instalar-r."><i class="fa fa-check"></i><b>2.1</b> <strong>(A)</strong> Instalar R.</a></li>
<li class="chapter" data-level="2.2" data-path="Empezando.html"><a href="Empezando.html#b-instalar-rstudio."><i class="fa fa-check"></i><b>2.2</b> <strong>(B)</strong> Instalar RStudio.</a></li>
<li class="chapter" data-level="2.3" data-path="Empezando.html"><a href="Empezando.html#instalar-packages"><i class="fa fa-check"></i><b>2.3</b> Instalar Packages</a></li>
<li class="chapter" data-level="2.4" data-path="Empezando.html"><a href="Empezando.html#cargar-packages"><i class="fa fa-check"></i><b>2.4</b> Cargar Packages</a></li>
<li class="chapter" data-level="2.5" data-path="Empezando.html"><a href="Empezando.html#todo-en-uno"><i class="fa fa-check"></i><b>2.5</b> Todo en uno</a></li>
<li class="chapter" data-level="2.6" data-path="Empezando.html"><a href="Empezando.html#c-librerias-para-el-workshop"><i class="fa fa-check"></i><b>2.6</b> <strong>(C)</strong> Librerias para el workshop</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html"><i class="fa fa-check"></i><b>3</b> Mi primer script</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#paso-a-paso"><i class="fa fa-check"></i><b>3.1</b> Paso a paso</a></li>
<li class="chapter" data-level="3.2" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#establecer-nuestro-directorio-de-trabajo"><i class="fa fa-check"></i><b>3.2</b> Establecer nuestro directorio de trabajo</a></li>
<li class="chapter" data-level="3.3" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#nuestro-primer-script"><i class="fa fa-check"></i><b>3.3</b> Nuestro primer script</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html"><i class="fa fa-check"></i><b>4</b> Conseguir ayuda y aprender más</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#cuando-sabemos-que-función-usar-pero-dudamos-de-la-sintaxis"><i class="fa fa-check"></i><b>4.1</b> Cuando sabemos que función usar, pero dudamos de la sintaxis:</a></li>
<li class="chapter" data-level="4.2" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#cuando-sabemos-lo-que-queremos-hacer-pero-no-la-función-que-debemos-usar"><i class="fa fa-check"></i><b>4.2</b> Cuando sabemos lo que queremos hacer pero no la función que debemos usar:</a></li>
<li class="chapter" data-level="4.3" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#libros-y-web-recomendados"><i class="fa fa-check"></i><b>4.3</b> Libros y Web recomendados</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#hadley-wickhams-books"><i class="fa fa-check"></i><b>4.3.1</b> Hadley Wickham’s books</a></li>
<li class="chapter" data-level="4.3.2" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#learning-statistics-with-r"><i class="fa fa-check"></i><b>4.3.2</b> Learning statistics with R</a></li>
<li class="chapter" data-level="4.3.3" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#pirate-guide-to-r"><i class="fa fa-check"></i><b>4.3.3</b> Pirate guide to R</a></li>
<li class="chapter" data-level="4.3.4" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#plots"><i class="fa fa-check"></i><b>4.3.4</b> Plots</a></li>
<li class="chapter" data-level="4.3.5" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#other-references"><i class="fa fa-check"></i><b>4.3.5</b> Other references</a></li>
<li class="chapter" data-level="4.3.6" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#twitter"><i class="fa fa-check"></i><b>4.3.6</b> Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html"><i class="fa fa-check"></i><b>5</b> Basics - Data types, import and export data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#data-types"><i class="fa fa-check"></i><b>5.1</b> Data types</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#data-frames"><i class="fa fa-check"></i><b>5.1.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.1.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#matrices"><i class="fa fa-check"></i><b>5.1.2</b> Matrices</a></li>
<li class="chapter" data-level="5.1.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#listas"><i class="fa fa-check"></i><b>5.1.3</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-data"><i class="fa fa-check"></i><b>5.2</b> Import data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-csv-file"><i class="fa fa-check"></i><b>5.2.1</b> From CSV file</a></li>
<li class="chapter" data-level="5.2.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-xls-file-excel"><i class="fa fa-check"></i><b>5.2.2</b> From XLS’ file (Excel)</a></li>
<li class="chapter" data-level="5.2.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-sav-file-spss"><i class="fa fa-check"></i><b>5.2.3</b> From SAV file (SPSS)</a></li>
<li class="chapter" data-level="5.2.4" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-all-files-from-a-folder"><i class="fa fa-check"></i><b>5.2.4</b> Import all files from a folder</a></li>
<li class="chapter" data-level="5.2.5" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-files-using-rstudio"><i class="fa fa-check"></i><b>5.2.5</b> Import files using RStudio</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#export-data"><i class="fa fa-check"></i><b>5.3</b> Export data</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#export-data-to-csv-file"><i class="fa fa-check"></i><b>5.3.1</b> Export data to CSV file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Manipular-datos.html"><a href="Manipular-datos.html"><i class="fa fa-check"></i><b>6</b> Manipular datos</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#leer-y-guardar-datos"><i class="fa fa-check"></i><b>6.1</b> Leer y guardar datos</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#leer-datos"><i class="fa fa-check"></i><b>6.1.1</b> Leer datos</a></li>
<li class="chapter" data-level="6.1.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#guardar-db-a-archivo"><i class="fa fa-check"></i><b>6.1.2</b> Guardar DB a archivo</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#ver-output-vs-asignar-output"><i class="fa fa-check"></i><b>6.2</b> Ver output vs asignar output</a></li>
<li class="chapter" data-level="6.3" data-path="Manipular-datos.html"><a href="Manipular-datos.html#verbos-de-dplyr"><i class="fa fa-check"></i><b>6.3</b> Verbos de dplyr</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#filtrar-datos"><i class="fa fa-check"></i><b>6.3.1</b> Filtrar datos</a></li>
<li class="chapter" data-level="6.3.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#ordenar-db"><i class="fa fa-check"></i><b>6.3.2</b> Ordenar DB</a></li>
<li class="chapter" data-level="6.3.3" data-path="Manipular-datos.html"><a href="Manipular-datos.html#seleccionar-variables"><i class="fa fa-check"></i><b>6.3.3</b> Seleccionar variables</a></li>
<li class="chapter" data-level="6.3.4" data-path="Manipular-datos.html"><a href="Manipular-datos.html#renombrar-variables"><i class="fa fa-check"></i><b>6.3.4</b> Renombrar variables</a></li>
<li class="chapter" data-level="6.3.5" data-path="Manipular-datos.html"><a href="Manipular-datos.html#separate-contents-of-a-single-variable"><i class="fa fa-check"></i><b>6.3.5</b> Separate contents of a single variable</a></li>
<li class="chapter" data-level="6.3.6" data-path="Manipular-datos.html"><a href="Manipular-datos.html#wide-to-long-format"><i class="fa fa-check"></i><b>6.3.6</b> Wide to Long format</a></li>
<li class="chapter" data-level="6.3.7" data-path="Manipular-datos.html"><a href="Manipular-datos.html#long-to-wide"><i class="fa fa-check"></i><b>6.3.7</b> Long to wide</a></li>
<li class="chapter" data-level="6.3.8" data-path="Manipular-datos.html"><a href="Manipular-datos.html#omitir-nas"><i class="fa fa-check"></i><b>6.3.8</b> Omitir NAs</a></li>
<li class="chapter" data-level="6.3.9" data-path="Manipular-datos.html"><a href="Manipular-datos.html#eliminar-variables"><i class="fa fa-check"></i><b>6.3.9</b> Eliminar variables</a></li>
<li class="chapter" data-level="6.3.10" data-path="Manipular-datos.html"><a href="Manipular-datos.html#crear-nuevas-variables"><i class="fa fa-check"></i><b>6.3.10</b> Crear nuevas variables:</a></li>
<li class="chapter" data-level="6.3.11" data-path="Manipular-datos.html"><a href="Manipular-datos.html#recodificamos-datos"><i class="fa fa-check"></i><b>6.3.11</b> Recodificamos datos</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="Manipular-datos.html"><a href="Manipular-datos.html#combinar-bases-de-datos"><i class="fa fa-check"></i><b>6.4</b> Combinar bases de datos</a></li>
<li class="chapter" data-level="6.5" data-path="Manipular-datos.html"><a href="Manipular-datos.html#verbos-avanzados"><i class="fa fa-check"></i><b>6.5</b> Verbos avanzados</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#cambiar-multiples-columnas-de-un-tipo-a-otro"><i class="fa fa-check"></i><b>6.5.1</b> Cambiar multiples columnas de un tipo a otro</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="Manipular-datos.html"><a href="Manipular-datos.html#regular-expressions"><i class="fa fa-check"></i><b>6.6</b> Regular expressions</a></li>
<li class="chapter" data-level="6.7" data-path="Manipular-datos.html"><a href="Manipular-datos.html#trabajando-con-fechas"><i class="fa fa-check"></i><b>6.7</b> Trabajando con fechas</a></li>
<li class="chapter" data-level="6.8" data-path="Manipular-datos.html"><a href="Manipular-datos.html#pegando-portapapeles-a-vector-con-datapasta"><i class="fa fa-check"></i><b>6.8</b> Pegando portapapeles a vector con datapasta</a></li>
<li class="chapter" data-level="6.9" data-path="Manipular-datos.html"><a href="Manipular-datos.html#tutoriales-externos"><i class="fa fa-check"></i><b>6.9</b> Tutoriales externos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html"><i class="fa fa-check"></i><b>7</b> Visualizar datos</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#other-resources"><i class="fa fa-check"></i><b>7.1</b> Other resources</a></li>
<li class="chapter" data-level="7.2" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#que-gráfica-puedo-usar-wip"><i class="fa fa-check"></i><b>7.2</b> Que gráfica puedo usar (WIP)</a></li>
<li class="chapter" data-level="7.3" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#tipos-de-gráficas"><i class="fa fa-check"></i><b>7.3</b> Tipos de gráficas</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#histogramas"><i class="fa fa-check"></i><b>7.3.1</b> Histogramas</a></li>
<li class="chapter" data-level="7.3.2" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#Pirate-Plot"><i class="fa fa-check"></i><b>7.3.2</b> Pirate plot</a></li>
<li class="chapter" data-level="7.3.3" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#barplots-with-individual-responses"><i class="fa fa-check"></i><b>7.3.3</b> Barplots with individual responses</a></li>
<li class="chapter" data-level="7.3.4" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#diagrama-de-caja-y-bigotes"><i class="fa fa-check"></i><b>7.3.4</b> Diagrama de caja y bigotes</a></li>
<li class="chapter" data-level="7.3.5" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#correlation-plot"><i class="fa fa-check"></i><b>7.3.5</b> Correlation plot</a></li>
<li class="chapter" data-level="7.3.6" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#beanplot"><i class="fa fa-check"></i><b>7.3.6</b> Beanplot</a></li>
<li class="chapter" data-level="7.3.7" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#scatterplot"><i class="fa fa-check"></i><b>7.3.7</b> Scatterplot</a></li>
<li class="chapter" data-level="7.3.8" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#scatterplot-con-3-variables"><i class="fa fa-check"></i><b>7.3.8</b> Scatterplot con 3 variables</a></li>
<li class="chapter" data-level="7.3.9" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#density-plots"><i class="fa fa-check"></i><b>7.3.9</b> Density plots</a></li>
<li class="chapter" data-level="7.3.10" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#density-ridges-plots-ggjoy"><i class="fa fa-check"></i><b>7.3.10</b> Density Ridges Plots (ggjoy)</a></li>
<li class="chapter" data-level="7.3.11" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#pp-plots"><i class="fa fa-check"></i><b>7.3.11</b> PP plots</a></li>
<li class="chapter" data-level="7.3.12" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#shaded-geom-area"><i class="fa fa-check"></i><b>7.3.12</b> Shaded geom area</a></li>
<li class="chapter" data-level="7.3.13" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#multiple-scatterplots"><i class="fa fa-check"></i><b>7.3.13</b> Multiple Scatterplots</a></li>
<li class="chapter" data-level="7.3.14" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#background-data"><i class="fa fa-check"></i><b>7.3.14</b> Background data</a></li>
<li class="chapter" data-level="7.3.15" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#flip-plots"><i class="fa fa-check"></i><b>7.3.15</b> Flip plots</a></li>
<li class="chapter" data-level="7.3.16" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#waffle-plots"><i class="fa fa-check"></i><b>7.3.16</b> Waffle plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Visualizar-riesgo.html"><a href="Visualizar-riesgo.html"><i class="fa fa-check"></i><b>8</b> Visualizar riesgo</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Visualizar-riesgo.html"><a href="Visualizar-riesgo.html#riskr"><i class="fa fa-check"></i><b>8.1</b> Riskr</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html"><i class="fa fa-check"></i><b>9</b> Estadistica descriptiva</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#gtsummaries"><i class="fa fa-check"></i><b>9.1</b> Gtsummaries</a></li>
<li class="chapter" data-level="9.2" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#summary-de-datos"><i class="fa fa-check"></i><b>9.2</b> Summary de datos</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#agrupamos-por-sujeto"><i class="fa fa-check"></i><b>9.2.1</b> Agrupamos por sujeto</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#descriptive-tables-latex"><i class="fa fa-check"></i><b>9.3</b> Descriptive tables latex</a></li>
<li class="chapter" data-level="9.4" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#visualize-missing-values"><i class="fa fa-check"></i><b>9.4</b> Visualize missing values</a></li>
<li class="chapter" data-level="9.5" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#tutorial-externo"><i class="fa fa-check"></i><b>9.5</b> Tutorial externo</a></li>
<li class="chapter" data-level="9.6" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#findviews"><i class="fa fa-check"></i><b>9.6</b> Findviews</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html"><i class="fa fa-check"></i><b>10</b> Estadistica inferencial</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#referencias-y-fuentes"><i class="fa fa-check"></i><b>10.1</b> Referencias y Fuentes</a></li>
<li class="chapter" data-level="10.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#association-test"><i class="fa fa-check"></i><b>10.2</b> Association test</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#frequentist-1"><i class="fa fa-check"></i><b>10.2.1</b> Frequentist</a></li>
<li class="chapter" data-level="10.2.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#bayesian-2"><i class="fa fa-check"></i><b>10.2.2</b> Bayesian</a></li>
<li class="chapter" data-level="10.2.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#results-report---wip"><i class="fa fa-check"></i><b>10.2.3</b> Results report - WIP</a></li>
<li class="chapter" data-level="10.2.4" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#references"><i class="fa fa-check"></i><b>10.2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#anova-repeated-measures"><i class="fa fa-check"></i><b>10.3</b> ANOVA repeated measures</a></li>
<li class="chapter" data-level="10.4" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#mixed-models"><i class="fa fa-check"></i><b>10.4</b> Mixed Models</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#reading-list"><i class="fa fa-check"></i><b>10.4.1</b> Reading list</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#meta-analysis"><i class="fa fa-check"></i><b>10.5</b> Meta analysis</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#natural-frequencies-effect"><i class="fa fa-check"></i><b>10.5.1</b> Natural Frequencies Effect</a></li>
<li class="chapter" data-level="10.5.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#pictures-effect"><i class="fa fa-check"></i><b>10.5.2</b> Pictures Effect</a></li>
<li class="chapter" data-level="10.5.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#notes-on-meta-analysis"><i class="fa fa-check"></i><b>10.5.3</b> Notes on Meta-analysis</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#roc-curves"><i class="fa fa-check"></i><b>10.6</b> ROC Curves</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Funciones.html"><a href="Funciones.html"><i class="fa fa-check"></i><b>11</b> Funciones</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Funciones.html"><a href="Funciones.html#creando-mi-primera-función"><i class="fa fa-check"></i><b>11.1</b> Creando mi primera función</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="Funciones.html"><a href="Funciones.html#pirate-plot-original"><i class="fa fa-check"></i><b>11.1.1</b> Pirate plot original</a></li>
<li class="chapter" data-level="11.1.2" data-path="Funciones.html"><a href="Funciones.html#nuestra-función"><i class="fa fa-check"></i><b>11.1.2</b> Nuestra función</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="pre-processing.html"><a href="pre-processing.html"><i class="fa fa-check"></i><b>12</b> Pre-processing</a>
<ul>
<li class="chapter" data-level="12.1" data-path="pre-processing.html"><a href="pre-processing.html#rt-filtering"><i class="fa fa-check"></i><b>12.1</b> RT filtering</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="pre-processing.html"><a href="pre-processing.html#function-to-filter-by-rt"><i class="fa fa-check"></i><b>12.1.1</b> Function to filter by RT</a></li>
<li class="chapter" data-level="12.1.2" data-path="pre-processing.html"><a href="pre-processing.html#n-sd-from-the-median-mad-1"><i class="fa fa-check"></i><b>12.1.2</b> n SD from the median (MAD)</a></li>
<li class="chapter" data-level="12.1.3" data-path="pre-processing.html"><a href="pre-processing.html#gamma-law-regression-analyses-2"><i class="fa fa-check"></i><b>12.1.3</b> Gamma law regression analyses</a></li>
<li class="chapter" data-level="12.1.4" data-path="pre-processing.html"><a href="pre-processing.html#logarithms"><i class="fa fa-check"></i><b>12.1.4</b> Logarithms</a></li>
<li class="chapter" data-level="12.1.5" data-path="pre-processing.html"><a href="pre-processing.html#references-1"><i class="fa fa-check"></i><b>12.1.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="pre-processing.html"><a href="pre-processing.html#reliability"><i class="fa fa-check"></i><b>12.2</b> Reliability</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="pre-processing.html"><a href="pre-processing.html#cronbachs-alpha"><i class="fa fa-check"></i><b>12.2.1</b> Cronbach’s Alpha</a></li>
<li class="chapter" data-level="12.2.2" data-path="pre-processing.html"><a href="pre-processing.html#omega"><i class="fa fa-check"></i><b>12.2.2</b> Omega</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="pre-processing.html"><a href="pre-processing.html#inter-rater-reliability"><i class="fa fa-check"></i><b>12.3</b> Inter rater reliability</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="pre-processing.html"><a href="pre-processing.html#references-2"><i class="fa fa-check"></i><b>12.3.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="pre-processing.html"><a href="pre-processing.html#impute-missing-data"><i class="fa fa-check"></i><b>12.4</b> Impute missing data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="pre-processing.html"><a href="pre-processing.html#impute-with-mice"><i class="fa fa-check"></i><b>12.4.1</b> Impute with mice</a></li>
<li class="chapter" data-level="12.4.2" data-path="pre-processing.html"><a href="pre-processing.html#impute-with-recipes"><i class="fa fa-check"></i><b>12.4.2</b> Impute with recipes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>13</b> Experimental design</a>
<ul>
<li class="chapter" data-level="13.1" data-path="experimental-design.html"><a href="experimental-design.html#tamaño-de-muestra-y-efecto-detectado"><i class="fa fa-check"></i><b>13.1</b> Tamaño de muestra y efecto detectado</a></li>
<li class="chapter" data-level="13.2" data-path="experimental-design.html"><a href="experimental-design.html#power-analysis"><i class="fa fa-check"></i><b>13.2</b> Power analysis</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="experimental-design.html"><a href="experimental-design.html#longitudinal-designs"><i class="fa fa-check"></i><b>13.2.1</b> Longitudinal designs</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="experimental-design.html"><a href="experimental-design.html#anonimizar-participantes---encriptar-ids"><i class="fa fa-check"></i><b>13.3</b> Anonimizar participantes - Encriptar IDs</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="experimental-design.html"><a href="experimental-design.html#encriptando-y-desencriptando-un-elemento"><i class="fa fa-check"></i><b>13.3.1</b> Encriptando y desencriptando un elemento</a></li>
<li class="chapter" data-level="13.3.2" data-path="experimental-design.html"><a href="experimental-design.html#encriptando-y-desencriptando-la-columna-rut-de-una-db-completa."><i class="fa fa-check"></i><b>13.3.2</b> Encriptando y desencriptando la columna RUT de una DB completa.</a></li>
<li class="chapter" data-level="13.3.3" data-path="experimental-design.html"><a href="experimental-design.html#encriptando-algo-que-no-sean-numeros"><i class="fa fa-check"></i><b>13.3.3</b> Encriptando algo que no sean numeros</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="experimental-design.html"><a href="experimental-design.html#match-participants"><i class="fa fa-check"></i><b>13.4</b> Match participants</a></li>
<li class="chapter" data-level="13.5" data-path="experimental-design.html"><a href="experimental-design.html#determine-distribution"><i class="fa fa-check"></i><b>13.5</b> Determine distribution</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>14</b> Classification</a>
<ul>
<li class="chapter" data-level="14.1" data-path="classification.html"><a href="classification.html#fast-and-frugal-trees"><i class="fa fa-check"></i><b>14.1</b> Fast and frugal trees</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="other-stuff.html"><a href="other-stuff.html"><i class="fa fa-check"></i><b>15</b> Other stuff</a>
<ul>
<li class="chapter" data-level="15.1" data-path="other-stuff.html"><a href="other-stuff.html#maps---generate-and-locate-cities-in-a-world-map"><i class="fa fa-check"></i><b>15.1</b> Maps - Generate and locate cities in a world map</a></li>
<li class="chapter" data-level="15.2" data-path="other-stuff.html"><a href="other-stuff.html#extract-tables-from-the-internet"><i class="fa fa-check"></i><b>15.2</b> Extract tables from the internet</a></li>
<li class="chapter" data-level="15.3" data-path="other-stuff.html"><a href="other-stuff.html#extract-tables-from-the-internet-1"><i class="fa fa-check"></i><b>15.3</b> Extract tables from the internet</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="ejercicios-y-soluciones.html"><a href="ejercicios-y-soluciones.html"><i class="fa fa-check"></i><b>16</b> Ejercicios y soluciones</a>
<ul>
<li class="chapter" data-level="16.1" data-path="ejercicios-y-soluciones.html"><a href="ejercicios-y-soluciones.html#Ejercicios1"><i class="fa fa-check"></i><b>16.1</b> Ejercicios 1</a></li>
<li class="chapter" data-level="16.2" data-path="ejercicios-y-soluciones.html"><a href="ejercicios-y-soluciones.html#Ejercicios2"><i class="fa fa-check"></i><b>16.2</b> Ejercicios 2</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html"><i class="fa fa-check"></i><b>17</b> Bibliography and interesting resources</a>
<ul>
<li class="chapter" data-level="17.1" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html#bibliography"><i class="fa fa-check"></i><b>17.1</b> Bibliography</a></li>
<li class="chapter" data-level="17.2" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html#interesting-resources---potentially"><i class="fa fa-check"></i><b>17.2</b> Interesting resources - potentially</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="todo-curso-basico-r-2016.html"><a href="todo-curso-basico-r-2016.html"><i class="fa fa-check"></i><b>18</b> TODO - Curso Basico R - 2016</a>
<ul>
<li class="chapter" data-level="18.1" data-path="todo-curso-basico-r-2016.html"><a href="todo-curso-basico-r-2016.html#en-ejercicios"><i class="fa fa-check"></i><b>18.1</b> EN EJERCICIOS:</a></li>
<li class="chapter" data-level="18.2" data-path="todo-curso-basico-r-2016.html"><a href="todo-curso-basico-r-2016.html#todo---limpieza-general"><i class="fa fa-check"></i><b>18.2</b> TODO - Limpieza general</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="todo-1.html"><a href="todo-1.html"><i class="fa fa-check"></i><b>19</b> TODO</a>
<ul>
<li class="chapter" data-level="19.1" data-path="todo-1.html"><a href="todo-1.html#urgent-stuff"><i class="fa fa-check"></i><b>19.1</b> Urgent stuff</a></li>
<li class="chapter" data-level="19.2" data-path="todo-1.html"><a href="todo-1.html#important"><i class="fa fa-check"></i><b>19.2</b> Important</a></li>
<li class="chapter" data-level="19.3" data-path="todo-1.html"><a href="todo-1.html#various"><i class="fa fa-check"></i><b>19.3</b> Various</a></li>
<li class="chapter" data-level="19.4" data-path="todo-1.html"><a href="todo-1.html#index-proposal"><i class="fa fa-check"></i><b>19.4</b> <strong>INDEX PROPOSAL</strong></a></li>
<li class="chapter" data-level="19.5" data-path="todo-1.html"><a href="todo-1.html#style-guide"><i class="fa fa-check"></i><b>19.5</b> Style guide</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="todo-1.html"><a href="todo-1.html#sections"><i class="fa fa-check"></i><b>19.5.1</b> Sections</a></li>
<li class="chapter" data-level="19.5.2" data-path="todo-1.html"><a href="todo-1.html#general"><i class="fa fa-check"></i><b>19.5.2</b> General</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="todo-1.html"><a href="todo-1.html#notas---remember"><i class="fa fa-check"></i><b>19.6</b> NOTAS - REMEMBER</a>
<ul>
<li class="chapter" data-level="19.6.1" data-path="todo-1.html"><a href="todo-1.html#refs"><i class="fa fa-check"></i><b>19.6.1</b> REFS</a></li>
<li class="chapter" data-level="19.6.2" data-path="todo-1.html"><a href="todo-1.html#notas"><i class="fa fa-check"></i><b>19.6.2</b> NOTAS</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R - Statistics Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Visualizar_datos" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Visualizar datos</h1>
<p>WHY Data visualization matters: <a href="https://www.autodeskresearch.com/publications/samestats" class="uri">https://www.autodeskresearch.com/publications/samestats</a></p>
<div id="other-resources" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Other resources</h2>
<ul>
<li><a href="http://chartmaker.visualisingdata.com/" class="uri">http://chartmaker.visualisingdata.com/</a><br />
</li>
<li><a href="https://www.r-graph-gallery.com/" class="uri">https://www.r-graph-gallery.com/</a><br />
</li>
<li><a href="http://pythonplot.com/" class="uri">http://pythonplot.com/</a> (see ggplot tab in plots)</li>
<li><a href="https://xeno.graphics/" class="uri">https://xeno.graphics/</a></li>
</ul>
<p>R es un lenguaje especialmente potente para la visualización de datos. Librerias como ggplot2 permiten una cantidad abrumadora de opciones. Aqui presentamos ejemplos de algunas de las posibilidades de R.</p>
</div>
<div id="que-gráfica-puedo-usar-wip" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Que gráfica puedo usar (WIP)</h2>
<p><img src="Images/coggleviz.png" /></p>
<ul>
<li>Image FROM <a href="https://ismayc.github.io/moderndiver-book/4-viz.html#resources">Modern Dive</a></li>
</ul>
<hr />
<table>
<thead>
<tr class="header">
<th>DV/IV</th>
<th>IV continua</th>
<th>IV vategórica</th>
<th>IV dicotómica</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DV continua</td>
<td><sup>SCATTER</sup> <sup>PIRATE</sup> <sup>CORREL</sup></td>
<td><sup>PIRATE</sup> <sup>CAJA</sup></td>
<td><sup>BEAN</sup> <sup>DENSITY</sup> <sup>PIRATE</sup></td>
</tr>
<tr class="even">
<td>DV categórica</td>
<td>…</td>
<td><sup>PIRATE</sup></td>
<td>…</td>
</tr>
<tr class="odd">
<td>DV dicotómica</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<hr />
<p>Vamos a usar la siguiente <a href="Data/06_Visualize_data/Visualize_data.csv">base de datos</a>.</p>
<hr />
<ul>
<li>Cargamos librerias y leemos datos</li>
</ul>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="Visualizar-datos.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos librerias</span></span>
<span id="cb94-2"><a href="Visualizar-datos.html#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb94-3"><a href="Visualizar-datos.html#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb94-4"><a href="Visualizar-datos.html#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;yarrr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;yarrr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;yarrr&#39;</span>)</span>
<span id="cb94-5"><a href="Visualizar-datos.html#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;DT&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;DT&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;DT&#39;</span>)</span>
<span id="cb94-6"><a href="Visualizar-datos.html#cb94-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb94-7"><a href="Visualizar-datos.html#cb94-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-8"><a href="Visualizar-datos.html#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Leemos datos y echamos un vistazo usando el paquete DT::datatable()</span></span>
<span id="cb94-9"><a href="Visualizar-datos.html#cb94-9" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/06_Visualize_data/Visualize_data.csv&quot;</span>); DT<span class="sc">::</span><span class="fu">datatable</span>(datos)  </span></code></pre></div>
<div id="htmlwidget-b64a9ea61067ef5a2e89" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b64a9ea61067ef5a2e89">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103],[1,2,2,2,1,2,2,2,2,1,1,1,1,1,2,2,2,2,1,2,2,2,2,2,2,2,2,1,2,1,1,1,1,1,2,1,1,2,2,1,2,2,1,1,2,1,1,1,2,2,2,2,2,2,1,2,2,2,2,2,1,2,2,1,1,2,2,1,2,2,2,1,2,2,2,2,2,2,2,2,1,2,1,2,2,2,1,2,2,1,1,2,1,2,2,1,2,1,1,1,1,2,1],[47,21,29,27,29,28,27,55,28,46,31,25,30,19,37,30,34,42,25,68,23,22,29,37,21,28,35,34,31,31,44,33,24,42,34,30,38,21,64,26,27,30,29,26,35,28,40,25,42,32,32,32,22,30,42,23,37,33,30,29,19,36,43,72,29,60,35,35,27,24,19,31,19,24,35,26,30,32,46,28,60,29,28,27,41,35,25,40,21,43,55,19,24,25,35,49,31,36,28,35,26,55,28],[8,6,6,7,5,6,4,6,6,5,6,3,6,3,2,3,7,6,3,7,5,6,6,5,4,6,7,8,5,4,8,8,4,5,3,6,6,5,6,9,6,6,6,6,6,6,6,6,6,7,6,4,6,6,6,6,6,7,6,6,4,6,6,10,6,7,3,6,4,6,5,5,4,6,6,7,6,7,6,3,6,6,6,6,1,5,6,3,2,4,6,9,4,6,6,3,6,1,6,6,7,6,2],[80,90,10,75,35,14,2,89,6,0,50,98,17,100,60,95,3,26,50,30,80,100,0,24,21,10,79,74,100,100,100,99,49,61,81,32,90,96,100,57,100,95,100,77,99,69,80,60,34,50,77,100,90,45,75,57,72,3,60,59,68,1,74,51,82,100,95,0,70,95,80,72,9,57,0,79,29,55,39,80,1,100,66,96,81,28,84,30,67,69,80,80,63,99,95,10,70,90,80,94,70,15,90],["PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond1","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond2","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond3","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4","PPV_Cond4"],[99,99,99,1,24,99,99,99,99,1,94,99,88,0,1,99,99,99,70,99,1,99,99,7,10,99,99,99,46,45,46,40,61,46,46,73,46,50,46,45,46,87,46,49,30,46,50,70,44,80,99,99,99,99,80,51,99,20,30,1,20,5,30,99,99,99,99,80,98,99,80,59,64,16,79,92,92,80,90,60,93,92,28,92,92,77,74,90,10,92,92,92,65,20,92,92,92,92,90,92,92,92,80]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ID<\/th>\n      <th>Genero<\/th>\n      <th>Edad<\/th>\n      <th>Educacion<\/th>\n      <th>FollowUP<\/th>\n      <th>condition<\/th>\n      <th>PPV_DECLARED<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="Visualizar-datos.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A algunas de las funciones no les gustan las tibbles! </span></span>
<span id="cb95-2"><a href="Visualizar-datos.html#cb95-2" aria-hidden="true" tabindex="-1"></a>datos_no_tibble <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;Data/06_Visualize_data/Visualize_data.csv&quot;</span>) </span></code></pre></div>
<ul>
<li>Nota sobre sintaxis</li>
</ul>
<p>En muchos de los gráficos, análisis estadísticos, etc, usaremos la sintaxis: <code>Var_Dep ~ Var_Indep_1 + Var_Indep_2</code></p>
</div>
<div id="tipos-de-gráficas" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> Tipos de gráficas</h2>
<div id="histogramas" class="section level3" number="7.3.1">
<h3><span class="header-section-number">7.3.1</span> Histogramas</h3>
<p>La función hist() nos permite crear de manera muy sencilla histogramas para ver</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="Visualizar-datos.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histograma sencillo</span></span>
<span id="cb96-2"><a href="Visualizar-datos.html#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(datos<span class="sc">$</span>Edad)</span></code></pre></div>
<p><img src="_main_images/histograms-1.png" width="960" /></p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="Visualizar-datos.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dotplot histogram</span></span>
<span id="cb97-2"><a href="Visualizar-datos.html#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qplot</span>(datos<span class="sc">$</span>Edad, </span>
<span id="cb97-3"><a href="Visualizar-datos.html#cb97-3" aria-hidden="true" tabindex="-1"></a>      <span class="at">geom=</span><span class="st">&quot;dotplot&quot;</span>, </span>
<span id="cb97-4"><a href="Visualizar-datos.html#cb97-4" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="fu">I</span>(<span class="st">&quot;forestgreen&quot;</span>),</span>
<span id="cb97-5"><a href="Visualizar-datos.html#cb97-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">xlab =</span> <span class="st">&quot;Age&quot;</span>, </span>
<span id="cb97-6"><a href="Visualizar-datos.html#cb97-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">main =</span> <span class="st">&quot;Age dotplot histogram&quot;</span>) <span class="sc">+</span></span>
<span id="cb97-7"><a href="Visualizar-datos.html#cb97-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## `stat_bindot()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_images/histograms-2.png" width="960" /></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="Visualizar-datos.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Y axis shows the proper number</span></span>
<span id="cb99-2"><a href="Visualizar-datos.html#cb99-2" aria-hidden="true" tabindex="-1"></a>max_bins <span class="ot">=</span> datos <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Edad) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">summarise</span>(<span class="at">N =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(N))<span class="co">#distinct(N) %&gt;% filter(N == max(N)) </span></span>
<span id="cb99-3"><a href="Visualizar-datos.html#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(Edad)) <span class="sc">+</span></span>
<span id="cb99-4"><a href="Visualizar-datos.html#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">&quot;forestgreen&quot;</span>) <span class="sc">+</span></span>
<span id="cb99-5"><a href="Visualizar-datos.html#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb99-6"><a href="Visualizar-datos.html#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>, max_bins<span class="sc">$</span>N[<span class="dv">1</span>] <span class="sc">*</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb99-7"><a href="Visualizar-datos.html#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code></pre></div>
<p><img src="_main_images/histograms-3.png" width="960" /></p>
<p>Si queremos ver los histogramas de todas las variables numéricas de nuestro dataset:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="Visualizar-datos.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Metodo 1</span></span>
<span id="cb100-2"><a href="Visualizar-datos.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;psych&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;psych&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;psych&#39;</span>)</span>
<span id="cb100-3"><a href="Visualizar-datos.html#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="co">#plyr</span></span>
<span id="cb100-4"><a href="Visualizar-datos.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># multi.hist(datos) #error, not numeric</span></span>
<span id="cb100-5"><a href="Visualizar-datos.html#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="fu">multi.hist</span>(datos[,<span class="fu">sapply</span>(datos, is.numeric)])</span></code></pre></div>
<p><img src="_main_images/multiple_histograms-1.png" width="672" /></p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="Visualizar-datos.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Metodo 2</span></span>
<span id="cb101-2"><a href="Visualizar-datos.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb101-3"><a href="Visualizar-datos.html#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;reshape2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;reshape2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;reshape2&#39;</span>)</span>
<span id="cb101-4"><a href="Visualizar-datos.html#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="Visualizar-datos.html#cb101-5" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">melt</span>(datos)</span></code></pre></div>
<pre><code>## Warning in melt(datos): The melt generic in data.table has been passed a
## spec_tbl_df and will attempt to redirect to the relevant reshape2 method;
## please note that reshape2 is deprecated, and this redirection is now
## deprecated as well. To continue using melt methods from reshape2 while both
## libraries are attached, e.g. melt.list, you can prepend the namespace like
## reshape2::melt(datos). In the next version, this warning will become an error.</code></pre>
<pre><code>## Using condition as id variables</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="Visualizar-datos.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d,<span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span> </span>
<span id="cb104-2"><a href="Visualizar-datos.html#cb104-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>variable,<span class="at">scales =</span> <span class="st">&quot;free_x&quot;</span>) <span class="sc">+</span> </span>
<span id="cb104-3"><a href="Visualizar-datos.html#cb104-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">15</span>) <span class="co">#+ coord_cartesian(ylim = c(0, 100))</span></span></code></pre></div>
<p><img src="_main_images/multiple_histograms-2.png" width="672" /></p>
</div>
<div id="Pirate-Plot" class="section level3" number="7.3.2">
<h3><span class="header-section-number">7.3.2</span> Pirate plot</h3>
<p>Ver la web del creador: <a href="http://nathanieldphillips.com/">Pirate plot</a> y su página de <a href="https://github.com/ndphillips/yarrr">Github</a></p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="Visualizar-datos.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos librerias</span></span>
<span id="cb105-2"><a href="Visualizar-datos.html#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;yarrr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;yarrr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;yarrr&#39;</span>)</span>
<span id="cb105-3"><a href="Visualizar-datos.html#cb105-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-4"><a href="Visualizar-datos.html#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostramos gráfico con opciones por defecto</span></span>
<span id="cb105-5"><a href="Visualizar-datos.html#cb105-5" aria-hidden="true" tabindex="-1"></a><span class="fu">pirateplot</span>(<span class="at">formula =</span> PPV_DECLARED <span class="sc">~</span> condition, datos)</span></code></pre></div>
<p><img src="_main_images/pirate-1.png" width="672" /></p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="Visualizar-datos.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Personalizamos el gráfico</span></span>
<span id="cb106-2"><a href="Visualizar-datos.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pirateplot</span>(<span class="at">formula =</span> PPV_DECLARED <span class="sc">~</span> condition,</span>
<span id="cb106-3"><a href="Visualizar-datos.html#cb106-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">data =</span> datos,</span>
<span id="cb106-4"><a href="Visualizar-datos.html#cb106-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">main =</span> <span class="st">&quot;PPV by condition&quot;</span>,</span>
<span id="cb106-5"><a href="Visualizar-datos.html#cb106-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">avg.line.fun =</span> median,</span>
<span id="cb106-6"><a href="Visualizar-datos.html#cb106-6" aria-hidden="true" tabindex="-1"></a>           <span class="co">#theme.o = 2,</span></span>
<span id="cb106-7"><a href="Visualizar-datos.html#cb106-7" aria-hidden="true" tabindex="-1"></a>           <span class="at">jitter.val =</span> .<span class="dv">2</span>,</span>
<span id="cb106-8"><a href="Visualizar-datos.html#cb106-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">inf.method =</span> <span class="st">&quot;ci&quot;</span>, <span class="co">#Show confidence interval (95%)</span></span>
<span id="cb106-9"><a href="Visualizar-datos.html#cb106-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">inf.f.o =</span> <span class="fl">0.2</span>, <span class="co">#Opacity of ci</span></span>
<span id="cb106-10"><a href="Visualizar-datos.html#cb106-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">pal =</span> <span class="st">&quot;appletv&quot;</span>)</span></code></pre></div>
<p><img src="_main_images/pirate-2.png" width="672" /></p>
</div>
<div id="barplots-with-individual-responses" class="section level3" number="7.3.3">
<h3><span class="header-section-number">7.3.3</span> Barplots with individual responses</h3>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="Visualizar-datos.html#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="co"># https://mvuorre.github.io/post/2017/within-subject-scatter/</span></span>
<span id="cb107-2"><a href="Visualizar-datos.html#cb107-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb107-3"><a href="Visualizar-datos.html#cb107-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb107-4"><a href="Visualizar-datos.html#cb107-4" aria-hidden="true" tabindex="-1"></a>barplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> condition, <span class="at">y =</span> PPV_DECLARED, <span class="at">color =</span> condition)) <span class="sc">+</span></span>
<span id="cb107-5"><a href="Visualizar-datos.html#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>( <span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>,</span>
<span id="cb107-6"><a href="Visualizar-datos.html#cb107-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.y =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb107-7"><a href="Visualizar-datos.html#cb107-7" aria-hidden="true" tabindex="-1"></a>                <span class="co"># col = &quot;black&quot;,</span></span>
<span id="cb107-8"><a href="Visualizar-datos.html#cb107-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">&quot;gray70&quot;</span>,</span>
<span id="cb107-9"><a href="Visualizar-datos.html#cb107-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> .<span class="dv">6</span> ) <span class="sc">+</span></span>
<span id="cb107-10"><a href="Visualizar-datos.html#cb107-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">w =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb107-11"><a href="Visualizar-datos.html#cb107-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),</span>
<span id="cb107-12"><a href="Visualizar-datos.html#cb107-12" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code></pre></div>
<pre><code>## Warning: `fun.y` is deprecated. Use `fun` instead.</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="Visualizar-datos.html#cb109-1" aria-hidden="true" tabindex="-1"></a>barplot</span></code></pre></div>
<p><img src="_main_images/barplot_individual_response-1.png" width="672" /></p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="Visualizar-datos.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding more geoms</span></span>
<span id="cb110-2"><a href="Visualizar-datos.html#cb110-2" aria-hidden="true" tabindex="-1"></a>barplot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(<span class="at">x =</span> condition, <span class="at">y =</span> PPV_DECLARED, <span class="at">color =</span> condition)) <span class="sc">+</span></span>
<span id="cb110-3"><a href="Visualizar-datos.html#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>( <span class="at">geom =</span> <span class="st">&quot;bar&quot;</span>,</span>
<span id="cb110-4"><a href="Visualizar-datos.html#cb110-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">fun.y =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb110-5"><a href="Visualizar-datos.html#cb110-5" aria-hidden="true" tabindex="-1"></a>                <span class="co"># col = &quot;black&quot;,</span></span>
<span id="cb110-6"><a href="Visualizar-datos.html#cb110-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">fill =</span> <span class="st">&quot;gray70&quot;</span>,</span>
<span id="cb110-7"><a href="Visualizar-datos.html#cb110-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">alpha =</span> .<span class="dv">6</span> ) <span class="sc">+</span></span>
<span id="cb110-8"><a href="Visualizar-datos.html#cb110-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stat_summary(fun.data = mean_se, geom = &quot;errorbar&quot;) +</span></span>
<span id="cb110-9"><a href="Visualizar-datos.html#cb110-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">w =</span> <span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb110-10"><a href="Visualizar-datos.html#cb110-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> .<span class="dv">2</span>, <span class="at">outlier.alpha =</span> .<span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb110-11"><a href="Visualizar-datos.html#cb110-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_dotplot</span>(<span class="at">binaxis =</span><span class="st">&quot;y&quot;</span>, <span class="at">stackdir =</span> <span class="st">&quot;center&quot;</span>, <span class="at">binwidth =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb110-12"><a href="Visualizar-datos.html#cb110-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb110-13"><a href="Visualizar-datos.html#cb110-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>),</span>
<span id="cb110-14"><a href="Visualizar-datos.html#cb110-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code></pre></div>
<pre><code>## Warning: `fun.y` is deprecated. Use `fun` instead.</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="Visualizar-datos.html#cb112-1" aria-hidden="true" tabindex="-1"></a>barplot2</span></code></pre></div>
<p><img src="_main_images/barplot_individual_response-2.png" width="672" /></p>
</div>
<div id="diagrama-de-caja-y-bigotes" class="section level3" number="7.3.4">
<h3><span class="header-section-number">7.3.4</span> Diagrama de caja y bigotes</h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="Visualizar-datos.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(PPV_DECLARED <span class="sc">~</span> condition, datos)</span></code></pre></div>
<p><img src="_main_images/boxplot-1.png" width="672" /></p>
</div>
<div id="correlation-plot" class="section level3" number="7.3.5">
<h3><span class="header-section-number">7.3.5</span> Correlation plot</h3>
<p>Ver la web del paquete: <a href="https://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html">Correlation plot</a> y su página de <a href="https://github.com/taiyun/corrplot">Github</a></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="Visualizar-datos.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos libreria</span></span>
<span id="cb114-2"><a href="Visualizar-datos.html#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;corrplot&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;corrplot&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;corrplot&#39;</span>)</span>
<span id="cb114-3"><a href="Visualizar-datos.html#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="Visualizar-datos.html#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(<span class="fu">cor</span>(datos[,<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">7</span>)]), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>),<span class="at">tl.cex =</span> <span class="fl">0.9</span>, </span>
<span id="cb114-5"><a href="Visualizar-datos.html#cb114-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">method =</span> <span class="st">&quot;square&quot;</span>, <span class="at">type =</span> <span class="st">&quot;lower&quot;</span>, <span class="at">tl.col =</span> <span class="st">&quot;black&quot;</span>, <span class="at">diag =</span> T)</span></code></pre></div>
<p><img src="_main_images/correlation_plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="Visualizar-datos.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlation with ggplot</span></span>
<span id="cb115-2"><a href="Visualizar-datos.html#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="co"># From http://r-statistics.co/Top50-Ggplot2-Visualizations-MasterList-R-Code.html</span></span>
<span id="cb115-3"><a href="Visualizar-datos.html#cb115-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb115-4"><a href="Visualizar-datos.html#cb115-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggcorrplot&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggcorrplot&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggcorrplot&#39;</span>)</span>
<span id="cb115-5"><a href="Visualizar-datos.html#cb115-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-6"><a href="Visualizar-datos.html#cb115-6" aria-hidden="true" tabindex="-1"></a>corr <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">cor</span>(datos[,<span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">7</span>)]), <span class="dv">1</span>)</span>
<span id="cb115-7"><a href="Visualizar-datos.html#cb115-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb115-8"><a href="Visualizar-datos.html#cb115-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb115-9"><a href="Visualizar-datos.html#cb115-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggcorrplot</span>(corr, <span class="at">hc.order =</span> <span class="cn">TRUE</span>, </span>
<span id="cb115-10"><a href="Visualizar-datos.html#cb115-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="st">&quot;lower&quot;</span>, </span>
<span id="cb115-11"><a href="Visualizar-datos.html#cb115-11" aria-hidden="true" tabindex="-1"></a>           <span class="at">lab =</span> <span class="cn">TRUE</span>, </span>
<span id="cb115-12"><a href="Visualizar-datos.html#cb115-12" aria-hidden="true" tabindex="-1"></a>           <span class="at">lab_size =</span> <span class="dv">3</span>, </span>
<span id="cb115-13"><a href="Visualizar-datos.html#cb115-13" aria-hidden="true" tabindex="-1"></a>           <span class="at">method=</span><span class="st">&quot;circle&quot;</span>, </span>
<span id="cb115-14"><a href="Visualizar-datos.html#cb115-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">&quot;tomato2&quot;</span>, <span class="st">&quot;white&quot;</span>, <span class="st">&quot;springgreen3&quot;</span>), </span>
<span id="cb115-15"><a href="Visualizar-datos.html#cb115-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">title=</span><span class="st">&quot;Correlogram&quot;</span>, </span>
<span id="cb115-16"><a href="Visualizar-datos.html#cb115-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">ggtheme=</span>theme_bw)</span></code></pre></div>
<p><img src="_main_images/correlation_plot-2.png" width="672" /></p>
</div>
<div id="beanplot" class="section level3" number="7.3.6">
<h3><span class="header-section-number">7.3.6</span> Beanplot</h3>
<p>Ver la web del paquete <a href="https://cran.r-project.org/web/packages/beanplot/index.html">Beanplot</a></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="Visualizar-datos.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos libreria</span></span>
<span id="cb116-2"><a href="Visualizar-datos.html#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;beanplot&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;beanplot&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;beanplot&#39;</span>)</span>
<span id="cb116-3"><a href="Visualizar-datos.html#cb116-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-4"><a href="Visualizar-datos.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">beanplot</span>(FollowUP <span class="sc">~</span> Genero, <span class="at">data =</span> datos,  <span class="at">side =</span> <span class="st">&quot;both&quot;</span>, <span class="at">log =</span> <span class="st">&quot;&quot;</span>, <span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Mujer&quot;</span>),</span>
<span id="cb116-5"><a href="Visualizar-datos.html#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="at">what =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="at">border =</span> <span class="cn">NA</span>, <span class="at">col =</span> <span class="fu">list</span>(<span class="st">&quot;black&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;grey&quot;</span>, <span class="st">&quot;white&quot;</span>)))</span></code></pre></div>
<p><img src="_main_images/bean_plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="Visualizar-datos.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># legend(&quot;bottomleft&quot;, fill = c(&quot;black&quot;, &quot;grey&quot;), legend = c(&quot;H&quot;, &quot;M&quot;), title = &quot;Genero&quot;)</span></span></code></pre></div>
</div>
<div id="scatterplot" class="section level3" number="7.3.7">
<h3><span class="header-section-number">7.3.7</span> Scatterplot</h3>
<p>Ver la web del creador: <a href="http://www.sthda.com/english/rpkgs/ggpubr/">ggpubr</a> y su página de <a href="https://github.com/kassambara/ggpubr">Github</a></p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="Visualizar-datos.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos libreria</span></span>
<span id="cb118-2"><a href="Visualizar-datos.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggpubr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggpubr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggpubr&#39;</span>)</span>
<span id="cb118-3"><a href="Visualizar-datos.html#cb118-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-4"><a href="Visualizar-datos.html#cb118-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggscatter</span>(datos_no_tibble, <span class="at">x =</span> <span class="st">&quot;Educacion&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Edad&quot;</span>,</span>
<span id="cb118-5"><a href="Visualizar-datos.html#cb118-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="co"># Points color, shape and size</span></span>
<span id="cb118-6"><a href="Visualizar-datos.html#cb118-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">add =</span> <span class="st">&quot;reg.line&quot;</span>,  <span class="co"># Add regressin line</span></span>
<span id="cb118-7"><a href="Visualizar-datos.html#cb118-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">add.params =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>), <span class="co"># Customize reg. line</span></span>
<span id="cb118-8"><a href="Visualizar-datos.html#cb118-8" aria-hidden="true" tabindex="-1"></a>   <span class="at">conf.int =</span> <span class="cn">TRUE</span>, <span class="co"># Add confidence interval</span></span>
<span id="cb118-9"><a href="Visualizar-datos.html#cb118-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">cor.coef =</span> <span class="cn">TRUE</span> <span class="co"># Add correlation coefficient</span></span>
<span id="cb118-10"><a href="Visualizar-datos.html#cb118-10" aria-hidden="true" tabindex="-1"></a>   )</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_images/scatterplot-1.png" width="672" /></p>
</div>
<div id="scatterplot-con-3-variables" class="section level3" number="7.3.8">
<h3><span class="header-section-number">7.3.8</span> Scatterplot con 3 variables</h3>
<p>Ver la web de documentación de <a href="http://docs.ggplot2.org/current/">ggplot2</a> y su página de <a href="https://github.com/hadley/ggplot2">Github</a></p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="Visualizar-datos.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargamos libreria</span></span>
<span id="cb120-2"><a href="Visualizar-datos.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb120-3"><a href="Visualizar-datos.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb120-4"><a href="Visualizar-datos.html#cb120-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-5"><a href="Visualizar-datos.html#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos, <span class="fu">aes</span>(PPV_DECLARED, FollowUP, <span class="at">color=</span><span class="fu">factor</span>(Genero))) <span class="sc">+</span></span>
<span id="cb120-6"><a href="Visualizar-datos.html#cb120-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">1</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb120-7"><a href="Visualizar-datos.html#cb120-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_colour_hue</span>(<span class="at">l=</span><span class="dv">50</span>) <span class="sc">+</span> <span class="co"># Palette hue</span></span>
<span id="cb120-8"><a href="Visualizar-datos.html#cb120-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm,   <span class="co"># Linear regression lines</span></span>
<span id="cb120-9"><a href="Visualizar-datos.html#cb120-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">se=</span>T,        <span class="co"># Confidence interval</span></span>
<span id="cb120-10"><a href="Visualizar-datos.html#cb120-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">fullrange=</span>F) <span class="co"># Extend regression lines</span></span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_images/scatterplot_3v-1.png" width="672" /></p>
</div>
<div id="density-plots" class="section level3" number="7.3.9">
<h3><span class="header-section-number">7.3.9</span> Density plots</h3>
<p>Ver la web del creador: <a href="http://www.sthda.com/english/rpkgs/ggpubr/">ggpubr</a> y su página de <a href="https://github.com/kassambara/ggpubr">Github</a></p>
<ul>
<li>The variable we use to create two different sub-plots has to be a factor!</li>
</ul>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="Visualizar-datos.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb122-2"><a href="Visualizar-datos.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb122-3"><a href="Visualizar-datos.html#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggpubr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggpubr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggpubr&#39;</span>)</span>
<span id="cb122-4"><a href="Visualizar-datos.html#cb122-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb122-5"><a href="Visualizar-datos.html#cb122-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-6"><a href="Visualizar-datos.html#cb122-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-7"><a href="Visualizar-datos.html#cb122-7" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/06_Visualize_data/Visualize_data.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   ID = col_double(),
##   Genero = col_double(),
##   Edad = col_double(),
##   Educacion = col_double(),
##   FollowUP = col_double(),
##   condition = col_character(),
##   PPV_DECLARED = col_double()
## )</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="Visualizar-datos.html#cb124-1" aria-hidden="true" tabindex="-1"></a>datos <span class="ot">=</span> datos <span class="sc">%&gt;%</span> </span>
<span id="cb124-2"><a href="Visualizar-datos.html#cb124-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Genero =</span> <span class="fu">as.factor</span>(<span class="fu">unlist</span>(Genero))) <span class="sc">%&gt;%</span> <span class="co">#Make Genero a factor</span></span>
<span id="cb124-3"><a href="Visualizar-datos.html#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PPV_DECLARED =</span> <span class="fu">as.numeric</span>(<span class="fu">unlist</span>(PPV_DECLARED)))</span>
<span id="cb124-4"><a href="Visualizar-datos.html#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="Visualizar-datos.html#cb124-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggdensity</span>(datos, <span class="at">x =</span> <span class="st">&quot;PPV_DECLARED&quot;</span>,</span>
<span id="cb124-6"><a href="Visualizar-datos.html#cb124-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">add =</span> <span class="st">&quot;mean&quot;</span>, <span class="at">rug =</span> <span class="cn">TRUE</span>,</span>
<span id="cb124-7"><a href="Visualizar-datos.html#cb124-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">color =</span> <span class="st">&quot;Genero&quot;</span>, <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>), <span class="at">fill =</span> <span class="st">&quot;Genero&quot;</span>)</span></code></pre></div>
<p><img src="_main_images/dentity_plot-1.png" width="672" /></p>
</div>
<div id="density-ridges-plots-ggjoy" class="section level3" number="7.3.10">
<h3><span class="header-section-number">7.3.10</span> Density Ridges Plots (ggjoy)</h3>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="Visualizar-datos.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb125-2"><a href="Visualizar-datos.html#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggridges&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggridges&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggridges&#39;</span>)</span>
<span id="cb125-3"><a href="Visualizar-datos.html#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb125-4"><a href="Visualizar-datos.html#cb125-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-5"><a href="Visualizar-datos.html#cb125-5" aria-hidden="true" tabindex="-1"></a>datos_density_ridges <span class="ot">=</span> datos <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb125-6"><a href="Visualizar-datos.html#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Educacion <span class="sc">&lt;</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb125-7"><a href="Visualizar-datos.html#cb125-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Educacion =</span> <span class="fu">as.factor</span>(Educacion)) <span class="sc">%&gt;%</span> </span>
<span id="cb125-8"><a href="Visualizar-datos.html#cb125-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PPV_DECLARED =</span> <span class="fu">as.double</span>(PPV_DECLARED))</span>
<span id="cb125-9"><a href="Visualizar-datos.html#cb125-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-10"><a href="Visualizar-datos.html#cb125-10" aria-hidden="true" tabindex="-1"></a><span class="co"># datos_density_ridges %&gt;% group_by(Genero) %&gt;% dplyr::summarise(N = n())</span></span>
<span id="cb125-11"><a href="Visualizar-datos.html#cb125-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-12"><a href="Visualizar-datos.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple version</span></span>
<span id="cb125-13"><a href="Visualizar-datos.html#cb125-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos_density_ridges, <span class="fu">aes</span>(<span class="at">x =</span> FollowUP, <span class="at">y =</span> Genero)) <span class="sc">+</span> </span>
<span id="cb125-14"><a href="Visualizar-datos.html#cb125-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 12.4</code></pre>
<p><img src="_main_images/density_ridges-1.png" width="672" /></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="Visualizar-datos.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tweak some aesthetics </span></span>
<span id="cb127-2"><a href="Visualizar-datos.html#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos_density_ridges, <span class="fu">aes</span>(<span class="at">x =</span> FollowUP, <span class="at">y =</span> Genero, <span class="at">fill =</span> Genero)) <span class="sc">+</span> </span>
<span id="cb127-3"><a href="Visualizar-datos.html#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb127-4"><a href="Visualizar-datos.html#cb127-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_hue</span>(<span class="at">l=</span><span class="dv">30</span>)</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 12.4</code></pre>
<p><img src="_main_images/density_ridges-2.png" width="672" /></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="Visualizar-datos.html#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Histogram stat</span></span>
<span id="cb129-2"><a href="Visualizar-datos.html#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos_density_ridges, <span class="fu">aes</span>(<span class="at">x =</span> FollowUP, <span class="at">y =</span> Genero, <span class="at">fill =</span> Genero)) <span class="sc">+</span> </span>
<span id="cb129-3"><a href="Visualizar-datos.html#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">stat =</span> <span class="st">&quot;binline&quot;</span>, <span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span> </span>
<span id="cb129-4"><a href="Visualizar-datos.html#cb129-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_hue</span>(<span class="at">l=</span><span class="dv">30</span>)</span></code></pre></div>
<p><img src="_main_images/density_ridges-3.png" width="672" /></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="Visualizar-datos.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combined</span></span>
<span id="cb130-2"><a href="Visualizar-datos.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(datos_density_ridges, <span class="fu">aes</span>(<span class="at">x =</span> FollowUP, <span class="at">y =</span> Genero, <span class="at">fill =</span> Genero)) <span class="sc">+</span> </span>
<span id="cb130-3"><a href="Visualizar-datos.html#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">stat =</span> <span class="st">&quot;binline&quot;</span>, <span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span> </span>
<span id="cb130-4"><a href="Visualizar-datos.html#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb130-5"><a href="Visualizar-datos.html#cb130-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_hue</span>(<span class="at">l=</span><span class="dv">30</span>)</span></code></pre></div>
<pre><code>## Picking joint bandwidth of 12.4</code></pre>
<p><img src="_main_images/density_ridges-4.png" width="672" /></p>
</div>
<div id="pp-plots" class="section level3" number="7.3.11">
<h3><span class="header-section-number">7.3.11</span> PP plots</h3>
<p>Plots of distributional differences… See <a href="http://www.dandersondata.com/post/esvis-part-1/" class="uri">http://www.dandersondata.com/post/esvis-part-1/</a></p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="Visualizar-datos.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;esvis&#39;</span>)) devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;DJAnderson07/esvis&quot;</span>); <span class="fu">library</span>(<span class="st">&#39;esvis&#39;</span>)</span>
<span id="cb132-2"><a href="Visualizar-datos.html#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="Visualizar-datos.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pp_plot</span>(benchmarks, reading <span class="sc">~</span> frl)</span></code></pre></div>
<p><img src="_main_images/PP_plot-1.png" width="672" /></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="Visualizar-datos.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pp_plot</span>(benchmarks, reading <span class="sc">~</span> ell, <span class="at">ref_group =</span> <span class="st">&quot;Non-ELL&quot;</span>)</span></code></pre></div>
<p><img src="_main_images/PP_plot_2-1.png" width="672" /></p>
<p>“<em>Notice in this plot there is actually a reversal of the effect for monitor students. On the lower end of the scale, Monitor students are actually out-performing non-ELL students, but this effect reverses at the top of the scale. A summary measure would not provide this type of information, but it may be incredibly valuable for theory development. For example, for this finding we may theorize that students with very low achievement receive a benefit from essentially any additional attention, even if that attention is not directly related to academics.</em>”(<a href="http://www.dandersondata.com/post/esvis-part-1/" class="uri">http://www.dandersondata.com/post/esvis-part-1/</a>)</p>
<p>For the sake of comparison, here are the distributions plotted with geom_density_ridges:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="Visualizar-datos.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(benchmarks, <span class="fu">aes</span>(<span class="at">x =</span> reading, <span class="at">y =</span> ell, <span class="at">fill =</span> ell)) <span class="sc">+</span> </span>
<span id="cb134-2"><a href="Visualizar-datos.html#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">7</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">stat =</span> <span class="st">&quot;binline&quot;</span>, <span class="at">bins =</span> <span class="dv">20</span>) <span class="sc">+</span> </span>
<span id="cb134-3"><a href="Visualizar-datos.html#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>(<span class="at">scale =</span> <span class="dv">2</span>, <span class="at">alpha =</span> .<span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span> </span>
<span id="cb134-4"><a href="Visualizar-datos.html#cb134-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_hue</span>(<span class="at">l=</span><span class="dv">30</span>)</span></code></pre></div>
<p><img src="_main_images/PP_plot_comparison-1.png" width="672" /></p>
</div>
<div id="shaded-geom-area" class="section level3" number="7.3.12">
<h3><span class="header-section-number">7.3.12</span> Shaded geom area</h3>
<p>FROM @kara_woo: <a href="https://gist.github.com/karawoo/14f4f46da900b09997d26171d092fb92" class="uri">https://gist.github.com/karawoo/14f4f46da900b09997d26171d092fb92</a></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="Visualizar-datos.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb135-2"><a href="Visualizar-datos.html#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb135-3"><a href="Visualizar-datos.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb135-4"><a href="Visualizar-datos.html#cb135-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-5"><a href="Visualizar-datos.html#cb135-5" aria-hidden="true" tabindex="-1"></a>data_for_plot <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/06_Visualize_data/data_shaded_geom_area.csv&quot;</span>)</span>
<span id="cb135-6"><a href="Visualizar-datos.html#cb135-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-7"><a href="Visualizar-datos.html#cb135-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Deaths by cause</span></span>
<span id="cb135-8"><a href="Visualizar-datos.html#cb135-8" aria-hidden="true" tabindex="-1"></a>p_area <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(data_for_plot, <span class="fu">aes</span>(<span class="at">x=</span>year, <span class="at">y=</span>count, <span class="at">group=</span>cat, <span class="at">order=</span>cat)) <span class="sc">+</span></span>
<span id="cb135-9"><a href="Visualizar-datos.html#cb135-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="fu">aes</span>(<span class="at">fill=</span>cat), <span class="at">position=</span><span class="st">&#39;stack&#39;</span>) <span class="sc">+</span> </span>
<span id="cb135-10"><a href="Visualizar-datos.html#cb135-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb135-11"><a href="Visualizar-datos.html#cb135-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-12"><a href="Visualizar-datos.html#cb135-12" aria-hidden="true" tabindex="-1"></a>p_area</span></code></pre></div>
<p><img src="_main_images/shaded_area-1.png" width="672" /></p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="Visualizar-datos.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate total deaths by year</span></span>
<span id="cb136-2"><a href="Visualizar-datos.html#cb136-2" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> data_for_plot <span class="sc">%&gt;%</span></span>
<span id="cb136-3"><a href="Visualizar-datos.html#cb136-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb136-4"><a href="Visualizar-datos.html#cb136-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total =</span> <span class="fu">sum</span>(count))</span>
<span id="cb136-5"><a href="Visualizar-datos.html#cb136-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-6"><a href="Visualizar-datos.html#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> count, <span class="at">group =</span> cat, <span class="at">order =</span> cat, <span class="at">fill =</span> cat)) <span class="sc">+</span></span>
<span id="cb136-7"><a href="Visualizar-datos.html#cb136-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">data =</span> dat, <span class="fu">aes</span>(<span class="at">y =</span> total), <span class="at">fill =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">position =</span> <span class="st">&#39;stack&#39;</span>) <span class="sc">+</span></span>
<span id="cb136-8"><a href="Visualizar-datos.html#cb136-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">&#39;stack&#39;</span>) <span class="sc">+</span> <span class="co">#colour = &quot;black&quot;,</span></span>
<span id="cb136-9"><a href="Visualizar-datos.html#cb136-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> cat) <span class="sc">+</span></span>
<span id="cb136-10"><a href="Visualizar-datos.html#cb136-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>  <span class="co"># to remove the legend</span></span>
<span id="cb136-11"><a href="Visualizar-datos.html#cb136-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()              <span class="co"># for clean look overall</span></span></code></pre></div>
<p><img src="_main_images/shaded_area-2.png" width="672" /></p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="Visualizar-datos.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb137-2"><a href="Visualizar-datos.html#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb137-3"><a href="Visualizar-datos.html#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb137-4"><a href="Visualizar-datos.html#cb137-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ## Colors I chose</span></span>
<span id="cb137-5"><a href="Visualizar-datos.html#cb137-5" aria-hidden="true" tabindex="-1"></a><span class="co"># mycolors &lt;- c(&quot;#00bf7b&quot;, &quot;#59004d&quot;, &quot;#ffcb89&quot;, &quot;#a76e61&quot;, &quot;#ac270d&quot;, &quot;#7890ff&quot;,</span></span>
<span id="cb137-6"><a href="Visualizar-datos.html#cb137-6" aria-hidden="true" tabindex="-1"></a><span class="co">#               &quot;#6ca013&quot;, &quot;#c2e05e&quot;, &quot;#00300d&quot;, &quot;#ff7b90&quot;)</span></span>
<span id="cb137-7"><a href="Visualizar-datos.html#cb137-7" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb137-8"><a href="Visualizar-datos.html#cb137-8" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb137-9"><a href="Visualizar-datos.html#cb137-9" aria-hidden="true" tabindex="-1"></a><span class="co"># ## Plot as small multiples</span></span>
<span id="cb137-10"><a href="Visualizar-datos.html#cb137-10" aria-hidden="true" tabindex="-1"></a><span class="co"># #** </span><span class="al">BUG</span><span class="co">: If we run the code for this plot in bookdown after loading packages plyr, Rmisc, the y axis gets mangled.**</span></span>
<span id="cb137-11"><a href="Visualizar-datos.html#cb137-11" aria-hidden="true" tabindex="-1"></a><span class="co"># p_small_mult &lt;- ggplot(dat, aes(x = year)) +</span></span>
<span id="cb137-12"><a href="Visualizar-datos.html#cb137-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   ## Gray background showing total</span></span>
<span id="cb137-13"><a href="Visualizar-datos.html#cb137-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_area(aes(y = total), fill = &quot;grey80&quot;, alpha = 0.7) +</span></span>
<span id="cb137-14"><a href="Visualizar-datos.html#cb137-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   ## Individual areas for each category</span></span>
<span id="cb137-15"><a href="Visualizar-datos.html#cb137-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_area(aes(y = count, fill = cat)) +</span></span>
<span id="cb137-16"><a href="Visualizar-datos.html#cb137-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   facet_wrap(~ cat, nrow = 2) +</span></span>
<span id="cb137-17"><a href="Visualizar-datos.html#cb137-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   ## Further customization</span></span>
<span id="cb137-18"><a href="Visualizar-datos.html#cb137-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_fill_manual(values = mycolors) +</span></span>
<span id="cb137-19"><a href="Visualizar-datos.html#cb137-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   scale_y_continuous(limits = c(0, max(dat$total) + 5), expand = c(0, 0)) +</span></span>
<span id="cb137-20"><a href="Visualizar-datos.html#cb137-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_minimal() +</span></span>
<span id="cb137-21"><a href="Visualizar-datos.html#cb137-21" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme(</span></span>
<span id="cb137-22"><a href="Visualizar-datos.html#cb137-22" aria-hidden="true" tabindex="-1"></a><span class="co">#     legend.position = &quot;none&quot;,</span></span>
<span id="cb137-23"><a href="Visualizar-datos.html#cb137-23" aria-hidden="true" tabindex="-1"></a><span class="co">#     axis.text = element_text(size = 7)</span></span>
<span id="cb137-24"><a href="Visualizar-datos.html#cb137-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   ) +</span></span>
<span id="cb137-25"><a href="Visualizar-datos.html#cb137-25" aria-hidden="true" tabindex="-1"></a><span class="co">#   labs(</span></span>
<span id="cb137-26"><a href="Visualizar-datos.html#cb137-26" aria-hidden="true" tabindex="-1"></a><span class="co">#     y = &quot;Total deaths&quot;,</span></span>
<span id="cb137-27"><a href="Visualizar-datos.html#cb137-27" aria-hidden="true" tabindex="-1"></a><span class="co">#     x = &quot;Year&quot;,</span></span>
<span id="cb137-28"><a href="Visualizar-datos.html#cb137-28" aria-hidden="true" tabindex="-1"></a><span class="co">#     title = &quot;On-duty police officer deaths&quot;,</span></span>
<span id="cb137-29"><a href="Visualizar-datos.html#cb137-29" aria-hidden="true" tabindex="-1"></a><span class="co">#     subtitle = &quot;Data: https://github.com/fivethirtyeight/data/police-deaths&quot;</span></span>
<span id="cb137-30"><a href="Visualizar-datos.html#cb137-30" aria-hidden="true" tabindex="-1"></a><span class="co">#   )</span></span>
<span id="cb137-31"><a href="Visualizar-datos.html#cb137-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb137-32"><a href="Visualizar-datos.html#cb137-32" aria-hidden="true" tabindex="-1"></a><span class="co"># p_small_mult</span></span></code></pre></div>
</div>
<div id="multiple-scatterplots" class="section level3" number="7.3.13">
<h3><span class="header-section-number">7.3.13</span> Multiple Scatterplots</h3>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="Visualizar-datos.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb138-2"><a href="Visualizar-datos.html#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb138-3"><a href="Visualizar-datos.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb138-4"><a href="Visualizar-datos.html#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggthemes&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggthemes&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggthemes&#39;</span>)</span>
<span id="cb138-5"><a href="Visualizar-datos.html#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;Rmisc&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;Rmisc&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;Rmisc&#39;</span>)</span>
<span id="cb138-6"><a href="Visualizar-datos.html#cb138-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-7"><a href="Visualizar-datos.html#cb138-7" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/06_Visualize_data/data_multiple_scatterplot.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   ID = col_double(),
##   `Executive functions` = col_double(),
##   `Emotional recognition` = col_double(),
##   ToM = col_double(),
##   `Inhibitory verbal control` = col_double(),
##   `Cryst.Intellig.1 (vocab.)` = col_double(),
##   `Cryst. Intellig.2 (years of studies)` = col_double(),
##   `Fluid intelligence` = col_double(),
##   `Social adaptation` = col_double(),
##   Age = col_double()
## )</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="Visualizar-datos.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Si se cambia alguno de estos nombres, cambiar tb abajo (o mejor, find and replace all!)</span></span>
<span id="cb140-2"><a href="Visualizar-datos.html#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(a) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;Executive functions&quot;</span>, <span class="st">&quot;Emotional recognition&quot;</span>, <span class="st">&quot;ToM&quot;</span>, <span class="st">&quot;Inhibitory verbal control&quot;</span>, <span class="st">&quot;Cryst. Intellig. (vocab)&quot;</span>, <span class="st">&quot;Cryst. Intellig. (years of education)&quot;</span>, <span class="st">&quot;Fluid intelligence&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="st">&quot;gg&quot;</span>)</span>
<span id="cb140-3"><a href="Visualizar-datos.html#cb140-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-4"><a href="Visualizar-datos.html#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="Visualizar-datos.html#cb140-5" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (vocab)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Executive functions</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-6"><a href="Visualizar-datos.html#cb140-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-7"><a href="Visualizar-datos.html#cb140-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-8"><a href="Visualizar-datos.html#cb140-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (vocab)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Emotional recognition</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-9"><a href="Visualizar-datos.html#cb140-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-10"><a href="Visualizar-datos.html#cb140-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-11"><a href="Visualizar-datos.html#cb140-11" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (vocab)</span><span class="st">`</span>, <span class="at">y =</span> ToM)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-12"><a href="Visualizar-datos.html#cb140-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>()  <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-13"><a href="Visualizar-datos.html#cb140-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-14"><a href="Visualizar-datos.html#cb140-14" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (vocab)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Inhibitory verbal control</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-15"><a href="Visualizar-datos.html#cb140-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() </span>
<span id="cb140-16"><a href="Visualizar-datos.html#cb140-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-17"><a href="Visualizar-datos.html#cb140-17" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (years of education)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Executive functions</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-18"><a href="Visualizar-datos.html#cb140-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-19"><a href="Visualizar-datos.html#cb140-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-20"><a href="Visualizar-datos.html#cb140-20" aria-hidden="true" tabindex="-1"></a>p6 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (years of education)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Emotional recognition</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-21"><a href="Visualizar-datos.html#cb140-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-22"><a href="Visualizar-datos.html#cb140-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-23"><a href="Visualizar-datos.html#cb140-23" aria-hidden="true" tabindex="-1"></a>p7 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (years of education)</span><span class="st">`</span>, <span class="at">y =</span> ToM)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-24"><a href="Visualizar-datos.html#cb140-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-25"><a href="Visualizar-datos.html#cb140-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-26"><a href="Visualizar-datos.html#cb140-26" aria-hidden="true" tabindex="-1"></a>p8 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Cryst. Intellig. (years of education)</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Inhibitory verbal control</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-27"><a href="Visualizar-datos.html#cb140-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-28"><a href="Visualizar-datos.html#cb140-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-29"><a href="Visualizar-datos.html#cb140-29" aria-hidden="true" tabindex="-1"></a>p9 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Fluid intelligence</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Executive functions</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-30"><a href="Visualizar-datos.html#cb140-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-31"><a href="Visualizar-datos.html#cb140-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-32"><a href="Visualizar-datos.html#cb140-32" aria-hidden="true" tabindex="-1"></a>p10 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Fluid intelligence</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Emotional recognition</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-33"><a href="Visualizar-datos.html#cb140-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-34"><a href="Visualizar-datos.html#cb140-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-35"><a href="Visualizar-datos.html#cb140-35" aria-hidden="true" tabindex="-1"></a>p11 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Fluid intelligence</span><span class="st">`</span>, <span class="at">y =</span> ToM)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-36"><a href="Visualizar-datos.html#cb140-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-37"><a href="Visualizar-datos.html#cb140-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-38"><a href="Visualizar-datos.html#cb140-38" aria-hidden="true" tabindex="-1"></a>p12 <span class="ot">=</span> <span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Fluid intelligence</span><span class="st">`</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Inhibitory verbal control</span><span class="st">`</span>)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb140-39"><a href="Visualizar-datos.html#cb140-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme_tufte</span>() <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.title.y=</span><span class="fu">element_blank</span>())</span>
<span id="cb140-40"><a href="Visualizar-datos.html#cb140-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-41"><a href="Visualizar-datos.html#cb140-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-42"><a href="Visualizar-datos.html#cb140-42" aria-hidden="true" tabindex="-1"></a><span class="fu">multiplot</span>(p1, p2, p3, p4, p5, p6, p7, p8, p9, p10, p11, p12, <span class="at">cols=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;
## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_images/scatterplot_multiple-1.png" width="672" /></p>
<p>Using ggforce:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="Visualizar-datos.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb143-2"><a href="Visualizar-datos.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggforce&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggforce&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggforce&#39;</span>)</span></code></pre></div>
<pre><code>## Loading required package: ggforce</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="Visualizar-datos.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(a, <span class="fu">aes</span>(<span class="at">x =</span> .panel_x, <span class="at">y =</span> .panel_y)) <span class="sc">+</span> </span>
<span id="cb145-2"><a href="Visualizar-datos.html#cb145-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">16</span>, <span class="at">fill=</span><span class="st">&quot;darkgrey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">size=</span><span class="dv">2</span>, <span class="at">position =</span> <span class="st">&#39;auto&#39;</span>) <span class="sc">+</span></span>
<span id="cb145-3"><a href="Visualizar-datos.html#cb145-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span>lm, <span class="at">fill=</span><span class="st">&quot;grey&quot;</span>, <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">se =</span> F, <span class="at">size =</span> .<span class="dv">5</span>) <span class="sc">+</span> </span>
<span id="cb145-4"><a href="Visualizar-datos.html#cb145-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_tufte</span>() <span class="sc">+</span> </span>
<span id="cb145-5"><a href="Visualizar-datos.html#cb145-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x=</span><span class="fu">element_blank</span>(), <span class="at">axis.title.y=</span><span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb145-6"><a href="Visualizar-datos.html#cb145-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_matrix</span>(<span class="fu">vars</span>(<span class="st">`</span><span class="at">Executive functions</span><span class="st">`</span>, <span class="st">`</span><span class="at">Emotional recognition</span><span class="st">`</span>, ToM, <span class="st">`</span><span class="at">Inhibitory verbal control</span><span class="st">`</span>), <span class="fu">vars</span>(<span class="st">`</span><span class="at">Cryst. Intellig. (vocab)</span><span class="st">`</span>, <span class="st">`</span><span class="at">Cryst. Intellig. (years of education)</span><span class="st">`</span>, <span class="st">`</span><span class="at">Fluid intelligence</span><span class="st">`</span>))</span></code></pre></div>
<pre><code>## Warning in rows == cols: longer object length is not a multiple of shorter
## object length</code></pre>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 3 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 3 rows containing missing values (geom_point).</code></pre>
<p><img src="_main_images/ggforce-1.png" width="672" /></p>
</div>
<div id="background-data" class="section level3" number="7.3.14">
<h3><span class="header-section-number">7.3.14</span> Background data</h3>
<p>FROM: <a href="https://drsimonj.svbtle.com/plotting-background-data-for-groups-with-ggplot2" class="uri">https://drsimonj.svbtle.com/plotting-background-data-for-groups-with-ggplot2</a></p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="Visualizar-datos.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;readr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;readr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;readr&#39;</span>)</span>
<span id="cb150-2"><a href="Visualizar-datos.html#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb150-3"><a href="Visualizar-datos.html#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb150-4"><a href="Visualizar-datos.html#cb150-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-5"><a href="Visualizar-datos.html#cb150-5" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> iris        <span class="co"># Full data set</span></span>
<span id="cb150-6"><a href="Visualizar-datos.html#cb150-6" aria-hidden="true" tabindex="-1"></a>d_bg <span class="ot">&lt;-</span> d[, <span class="sc">-</span><span class="dv">5</span>]  <span class="co"># Background Data - full without the 5th column (Species)</span></span>
<span id="cb150-7"><a href="Visualizar-datos.html#cb150-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-8"><a href="Visualizar-datos.html#cb150-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> Sepal.Width, <span class="at">fill =</span> Species)) <span class="sc">+</span></span>
<span id="cb150-9"><a href="Visualizar-datos.html#cb150-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">data =</span> d_bg, <span class="at">fill =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb150-10"><a href="Visualizar-datos.html#cb150-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">colour =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb150-11"><a href="Visualizar-datos.html#cb150-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Species) <span class="sc">+</span></span>
<span id="cb150-12"><a href="Visualizar-datos.html#cb150-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>  <span class="co"># to remove the legend</span></span>
<span id="cb150-13"><a href="Visualizar-datos.html#cb150-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()              <span class="co"># for clean look overall</span></span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="_main_images/background_data-1.png" width="672" /></p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="Visualizar-datos.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> Sepal.Width, <span class="at">y =</span> Sepal.Length, <span class="at">colour =</span> Species)) <span class="sc">+</span></span>
<span id="cb152-2"><a href="Visualizar-datos.html#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> d_bg, <span class="at">colour =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">alpha =</span> .<span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb152-3"><a href="Visualizar-datos.html#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb152-4"><a href="Visualizar-datos.html#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Species) <span class="sc">+</span></span>
<span id="cb152-5"><a href="Visualizar-datos.html#cb152-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb152-6"><a href="Visualizar-datos.html#cb152-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="_main_images/background_data-2.png" width="672" /></p>
</div>
<div id="flip-plots" class="section level3" number="7.3.15">
<h3><span class="header-section-number">7.3.15</span> Flip plots</h3>
<p>FROM: <a href="https://www.displayr.com/how-to-create-sankey-diagrams-from-tables-using-r/?utm_medium=Feed&amp;utm_source=Syndication" class="uri">https://www.displayr.com/how-to-create-sankey-diagrams-from-tables-using-r/?utm_medium=Feed&amp;utm_source=Syndication</a></p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="Visualizar-datos.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co">#cache=FALSE</span></span>
<span id="cb153-2"><a href="Visualizar-datos.html#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;flipPlots&#39;</span>)) remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;Displayr/flipPlots&quot;</span>); <span class="fu">library</span>(<span class="st">&#39;flipPlots&#39;</span>)</span>
<span id="cb153-3"><a href="Visualizar-datos.html#cb153-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-4"><a href="Visualizar-datos.html#cb153-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-5"><a href="Visualizar-datos.html#cb153-5" aria-hidden="true" tabindex="-1"></a>my.data <span class="ot">=</span> <span class="fu">data.frame</span>(<span class="at">Married =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>,<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb153-6"><a href="Visualizar-datos.html#cb153-6" aria-hidden="true" tabindex="-1"></a>                     <span class="at">Pet =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb153-7"><a href="Visualizar-datos.html#cb153-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">Happy =</span> <span class="fu">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</span>
<span id="cb153-8"><a href="Visualizar-datos.html#cb153-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">freq =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">1</span>)</span>
<span id="cb153-9"><a href="Visualizar-datos.html#cb153-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-10"><a href="Visualizar-datos.html#cb153-10" aria-hidden="true" tabindex="-1"></a><span class="fu">SankeyDiagram</span>(my.data[, <span class="sc">-</span><span class="dv">4</span>],</span>
<span id="cb153-11"><a href="Visualizar-datos.html#cb153-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">link.color =</span> <span class="st">&quot;Source&quot;</span>, </span>
<span id="cb153-12"><a href="Visualizar-datos.html#cb153-12" aria-hidden="true" tabindex="-1"></a>              <span class="at">weights =</span> my.data<span class="sc">$</span>freq) </span></code></pre></div>
<div id="htmlwidget-ffd9562a8e922d74a7b2" style="width:672px;height:480px;" class="sankeyNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ffd9562a8e922d74a7b2">{"x":{"links":{"source":[0,0,1,1,2,3,3],"target":[2,3,2,3,4,4,5],"value":[9,3,2,1,11,3,1],"group":["0","0","1","1","2","3","3"]},"nodes":{"name":["Married: Yes","Married: No","Pet: Yes","Pet: No","Happy: Yes","Happy: No"],"group":["0","1","2","3","4","5"]},"options":{"NodeID":"name","NodeGroup":"group","LinkGroup":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":12,"fontFamily":"Times New Roman","nodeWidth":30,"nodePadding":10,"units":"","margin":{"top":null,"right":null,"bottom":null,"left":null},"iterations":32,"sinksRight":true}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="Visualizar-datos.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">SankeyDiagram</span>(my.data[, <span class="sc">-</span><span class="dv">4</span>],</span>
<span id="cb154-2"><a href="Visualizar-datos.html#cb154-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">link.color =</span> <span class="st">&quot;Source&quot;</span>, </span>
<span id="cb154-3"><a href="Visualizar-datos.html#cb154-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">label.show.varname =</span> <span class="cn">FALSE</span>,</span>
<span id="cb154-4"><a href="Visualizar-datos.html#cb154-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">weights =</span> my.data<span class="sc">$</span>freq) </span></code></pre></div>
<div id="htmlwidget-de67c84daee67cee34c0" style="width:672px;height:480px;" class="sankeyNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-de67c84daee67cee34c0">{"x":{"links":{"source":[0,0,1,1,2,3,3],"target":[2,3,2,3,4,4,5],"value":[9,3,2,1,11,3,1],"group":["0","0","1","1","2","3","3"]},"nodes":{"name":["Yes","No","Yes","No","Yes","No"],"group":["0","1","2","3","4","5"]},"options":{"NodeID":"name","NodeGroup":"group","LinkGroup":"group","colourScale":"d3.scaleOrdinal(d3.schemeCategory20);","fontSize":12,"fontFamily":"Times New Roman","nodeWidth":30,"nodePadding":10,"units":"","margin":{"top":null,"right":null,"bottom":null,"left":null},"iterations":32,"sinksRight":true}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="waffle-plots" class="section level3" number="7.3.16">
<h3><span class="header-section-number">7.3.16</span> Waffle plots</h3>
<p>From: <a href="https://github.com/beeb22/tidytuesday/blob/master/Energy%20usage.R">‘beeboileau’</a></p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="Visualizar-datos.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remotes::install_github(&quot;hrbrmstr/waffle&quot;)</span></span>
<span id="cb155-2"><a href="Visualizar-datos.html#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;tidytuesdayR&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;tidytuesdayR&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;tidytuesdayR&#39;</span>)</span>
<span id="cb155-3"><a href="Visualizar-datos.html#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;plyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;plyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;plyr&#39;</span>) <span class="co"># Need to load this before dplyr. The count() function used comes from plyr</span></span>
<span id="cb155-4"><a href="Visualizar-datos.html#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;dplyr&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;dplyr&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;dplyr&#39;</span>)</span>
<span id="cb155-5"><a href="Visualizar-datos.html#cb155-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;forcats&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;forcats&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;forcats&#39;</span>)</span>
<span id="cb155-6"><a href="Visualizar-datos.html#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb155-7"><a href="Visualizar-datos.html#cb155-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;waffle&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&quot;waffle&quot;</span>, <span class="at">repos =</span> <span class="st">&quot;https://cinc.rud.is&quot;</span>); <span class="fu">library</span>(<span class="st">&#39;waffle&#39;</span>)</span>
<span id="cb155-8"><a href="Visualizar-datos.html#cb155-8" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;patchwork&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;patchwork&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;patchwork&#39;</span>)</span>
<span id="cb155-9"><a href="Visualizar-datos.html#cb155-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;scales&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;scales&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;scales&#39;</span>)</span>
<span id="cb155-10"><a href="Visualizar-datos.html#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggthemes&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggthemes&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggthemes&#39;</span>)</span>
<span id="cb155-11"><a href="Visualizar-datos.html#cb155-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;viridis&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;viridis&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;viridis&#39;</span>)</span>
<span id="cb155-12"><a href="Visualizar-datos.html#cb155-12" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggtext&#39;</span>)) <span class="fu">install.packages</span>(<span class="st">&#39;ggtext&#39;</span>); <span class="fu">library</span>(<span class="st">&#39;ggtext&#39;</span>)</span>
<span id="cb155-13"><a href="Visualizar-datos.html#cb155-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-14"><a href="Visualizar-datos.html#cb155-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-15"><a href="Visualizar-datos.html#cb155-15" aria-hidden="true" tabindex="-1"></a><span class="co">#load data</span></span>
<span id="cb155-16"><a href="Visualizar-datos.html#cb155-16" aria-hidden="true" tabindex="-1"></a>tuesdata <span class="ot">&lt;-</span> tidytuesdayR<span class="sc">::</span><span class="fu">tt_load</span>(<span class="dv">2020</span>, <span class="at">week =</span> <span class="dv">32</span>)</span></code></pre></div>
<pre><code>## 
##  Downloading file 1 of 2: `energy_types.csv`
##  Downloading file 2 of 2: `country_totals.csv`</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="Visualizar-datos.html#cb157-1" aria-hidden="true" tabindex="-1"></a>energy_types <span class="ot">&lt;-</span> tuesdata<span class="sc">$</span>energy_types</span>
<span id="cb157-2"><a href="Visualizar-datos.html#cb157-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-3"><a href="Visualizar-datos.html#cb157-3" aria-hidden="true" tabindex="-1"></a><span class="co">#clean up energy types</span></span>
<span id="cb157-4"><a href="Visualizar-datos.html#cb157-4" aria-hidden="true" tabindex="-1"></a>energy_types_clean <span class="ot">&lt;-</span></span>
<span id="cb157-5"><a href="Visualizar-datos.html#cb157-5" aria-hidden="true" tabindex="-1"></a>  energy_types <span class="sc">%&gt;%</span></span>
<span id="cb157-6"><a href="Visualizar-datos.html#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb157-7"><a href="Visualizar-datos.html#cb157-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_name =</span> <span class="fu">case_when</span>(</span>
<span id="cb157-8"><a href="Visualizar-datos.html#cb157-8" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;CZ&quot;</span> <span class="sc">~</span> <span class="st">&quot;Czech Republic&quot;</span>,</span>
<span id="cb157-9"><a href="Visualizar-datos.html#cb157-9" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;CY&quot;</span> <span class="sc">~</span> <span class="st">&quot;Cyprus&quot;</span>,</span>
<span id="cb157-10"><a href="Visualizar-datos.html#cb157-10" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;MT&quot;</span> <span class="sc">~</span> <span class="st">&quot;Malta&quot;</span>,</span>
<span id="cb157-11"><a href="Visualizar-datos.html#cb157-11" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;UK&quot;</span> <span class="sc">~</span> <span class="st">&quot;UK&quot;</span>,</span>
<span id="cb157-12"><a href="Visualizar-datos.html#cb157-12" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;MK&quot;</span> <span class="sc">~</span> <span class="st">&quot;Macedonia&quot;</span>,</span>
<span id="cb157-13"><a href="Visualizar-datos.html#cb157-13" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;TR&quot;</span> <span class="sc">~</span> <span class="st">&quot;Turkey&quot;</span>,</span>
<span id="cb157-14"><a href="Visualizar-datos.html#cb157-14" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;BA&quot;</span> <span class="sc">~</span> <span class="st">&quot;Bosnia and Herzegovina&quot;</span>,</span>
<span id="cb157-15"><a href="Visualizar-datos.html#cb157-15" aria-hidden="true" tabindex="-1"></a>      country <span class="sc">==</span> <span class="st">&quot;GE&quot;</span> <span class="sc">~</span> <span class="st">&quot;Georgia&quot;</span>,</span>
<span id="cb157-16"><a href="Visualizar-datos.html#cb157-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> country_name)</span>
<span id="cb157-17"><a href="Visualizar-datos.html#cb157-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb157-18"><a href="Visualizar-datos.html#cb157-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb157-19"><a href="Visualizar-datos.html#cb157-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_name =</span> <span class="fu">as.factor</span>(country_name),</span>
<span id="cb157-20"><a href="Visualizar-datos.html#cb157-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="fu">as.factor</span>(type)</span>
<span id="cb157-21"><a href="Visualizar-datos.html#cb157-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb157-22"><a href="Visualizar-datos.html#cb157-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-23"><a href="Visualizar-datos.html#cb157-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-24"><a href="Visualizar-datos.html#cb157-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-25"><a href="Visualizar-datos.html#cb157-25" aria-hidden="true" tabindex="-1"></a><span class="co">#-----waffle plot-----</span></span>
<span id="cb157-26"><a href="Visualizar-datos.html#cb157-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-27"><a href="Visualizar-datos.html#cb157-27" aria-hidden="true" tabindex="-1"></a><span class="co">#draw waffle plot</span></span>
<span id="cb157-28"><a href="Visualizar-datos.html#cb157-28" aria-hidden="true" tabindex="-1"></a>energy_composition <span class="ot">&lt;-</span> </span>
<span id="cb157-29"><a href="Visualizar-datos.html#cb157-29" aria-hidden="true" tabindex="-1"></a>  energy_types_clean <span class="sc">%&gt;%</span></span>
<span id="cb157-30"><a href="Visualizar-datos.html#cb157-30" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb157-31"><a href="Visualizar-datos.html#cb157-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(level <span class="sc">==</span> <span class="st">&quot;Level 1&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb157-32"><a href="Visualizar-datos.html#cb157-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb157-33"><a href="Visualizar-datos.html#cb157-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">energy_type =</span> <span class="fu">fct_collapse</span>(type, </span>
<span id="cb157-34"><a href="Visualizar-datos.html#cb157-34" aria-hidden="true" tabindex="-1"></a>                               <span class="at">renewable =</span> <span class="fu">c</span>(<span class="st">&quot;Wind&quot;</span>, <span class="st">&quot;Hydro&quot;</span>, <span class="st">&quot;Solar&quot;</span>, <span class="st">&quot;Geothermal&quot;</span>),</span>
<span id="cb157-35"><a href="Visualizar-datos.html#cb157-35" aria-hidden="true" tabindex="-1"></a>                               <span class="at">nuclear =</span> <span class="st">&quot;Nuclear&quot;</span>,</span>
<span id="cb157-36"><a href="Visualizar-datos.html#cb157-36" aria-hidden="true" tabindex="-1"></a>                               <span class="at">conventional_thermal =</span> <span class="st">&quot;Conventional thermal&quot;</span>,</span>
<span id="cb157-37"><a href="Visualizar-datos.html#cb157-37" aria-hidden="true" tabindex="-1"></a>                               <span class="at">other =</span> <span class="st">&quot;Other&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb157-38"><a href="Visualizar-datos.html#cb157-38" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">count</span>(country_name, energy_type, <span class="at">wt =</span> x2018) <span class="sc">%&gt;%</span></span>
<span id="cb157-39"><a href="Visualizar-datos.html#cb157-39" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(country_name) <span class="sc">%&gt;%</span></span>
<span id="cb157-40"><a href="Visualizar-datos.html#cb157-40" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb157-41"><a href="Visualizar-datos.html#cb157-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">total =</span> <span class="fu">sum</span>(n),</span>
<span id="cb157-42"><a href="Visualizar-datos.html#cb157-42" aria-hidden="true" tabindex="-1"></a>    energy_type,</span>
<span id="cb157-43"><a href="Visualizar-datos.html#cb157-43" aria-hidden="true" tabindex="-1"></a>    country_name,</span>
<span id="cb157-44"><a href="Visualizar-datos.html#cb157-44" aria-hidden="true" tabindex="-1"></a>    n</span>
<span id="cb157-45"><a href="Visualizar-datos.html#cb157-45" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb157-46"><a href="Visualizar-datos.html#cb157-46" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb157-47"><a href="Visualizar-datos.html#cb157-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb157-48"><a href="Visualizar-datos.html#cb157-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> n<span class="sc">/</span><span class="dv">1000</span></span>
<span id="cb157-49"><a href="Visualizar-datos.html#cb157-49" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb157-50"><a href="Visualizar-datos.html#cb157-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(</span>
<span id="cb157-51"><a href="Visualizar-datos.html#cb157-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">desc</span>(total),</span>
<span id="cb157-52"><a href="Visualizar-datos.html#cb157-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">desc</span>(country_name)</span>
<span id="cb157-53"><a href="Visualizar-datos.html#cb157-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb157-54"><a href="Visualizar-datos.html#cb157-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">40</span>)</span>
<span id="cb157-55"><a href="Visualizar-datos.html#cb157-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-56"><a href="Visualizar-datos.html#cb157-56" aria-hidden="true" tabindex="-1"></a>energy_composition <span class="sc">%&gt;%</span> </span>
<span id="cb157-57"><a href="Visualizar-datos.html#cb157-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> energy_type,</span>
<span id="cb157-58"><a href="Visualizar-datos.html#cb157-58" aria-hidden="true" tabindex="-1"></a>             <span class="at">values =</span> n)) <span class="sc">+</span></span>
<span id="cb157-59"><a href="Visualizar-datos.html#cb157-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_waffle</span>(<span class="at">n_rows =</span> <span class="dv">10</span>, <span class="at">size =</span> <span class="fl">0.33</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">flip =</span> <span class="cn">TRUE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb157-60"><a href="Visualizar-datos.html#cb157-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb157-61"><a href="Visualizar-datos.html#cb157-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;the 10 European countries using most energy in 2018&quot;</span>,</span>
<span id="cb157-62"><a href="Visualizar-datos.html#cb157-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;each box represents one kilo-watt hour; &lt;br&gt;</span></span>
<span id="cb157-63"><a href="Visualizar-datos.html#cb157-63" aria-hidden="true" tabindex="-1"></a><span class="st">    colours demarcate &lt;b style = &#39;color:#31688EFF&#39;&gt;conventional thermal&lt;/b&gt;,</span></span>
<span id="cb157-64"><a href="Visualizar-datos.html#cb157-64" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;b style = &#39;color:#35B779FF&#39;&gt;renewable&lt;/b&gt;, and</span></span>
<span id="cb157-65"><a href="Visualizar-datos.html#cb157-65" aria-hidden="true" tabindex="-1"></a><span class="st">    &lt;b style = &#39;color:#FDE725FF&#39;&gt;nuclear&lt;/b&gt; energy.&quot;</span>,</span>
<span id="cb157-66"><a href="Visualizar-datos.html#cb157-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;data: Eurostat</span><span class="sc">\n</span><span class="st">viz: @beeboileau&quot;</span></span>
<span id="cb157-67"><a href="Visualizar-datos.html#cb157-67" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">+</span></span>
<span id="cb157-68"><a href="Visualizar-datos.html#cb157-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>()<span class="sc">+</span></span>
<span id="cb157-69"><a href="Visualizar-datos.html#cb157-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;#31688EFF&quot;</span>, <span class="st">&quot;#35B779FF&quot;</span>, <span class="st">&quot;#FDE725FF&quot;</span>))<span class="sc">+</span></span>
<span id="cb157-70"><a href="Visualizar-datos.html#cb157-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_enhance_waffle</span>()<span class="sc">+</span></span>
<span id="cb157-71"><a href="Visualizar-datos.html#cb157-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="fu">fct_reorder</span>(country_name, <span class="fu">desc</span>(total)), <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">strip.position =</span> <span class="st">&quot;bottom&quot;</span>)<span class="sc">+</span></span>
<span id="cb157-72"><a href="Visualizar-datos.html#cb157-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">&quot;NYTFranklin Light&quot;</span>)<span class="sc">+</span></span>
<span id="cb157-73"><a href="Visualizar-datos.html#cb157-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb157-74"><a href="Visualizar-datos.html#cb157-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">2</span>), <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>)),</span>
<span id="cb157-75"><a href="Visualizar-datos.html#cb157-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>(<span class="at">size =</span> <span class="fu">rel</span>(<span class="dv">1</span>), <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>,<span class="dv">0</span>,<span class="dv">20</span>,<span class="dv">0</span>)),</span>
<span id="cb157-76"><a href="Visualizar-datos.html#cb157-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">10</span>,<span class="dv">10</span>),</span>
<span id="cb157-77"><a href="Visualizar-datos.html#cb157-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb157-78"><a href="Visualizar-datos.html#cb157-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb157-79"><a href="Visualizar-datos.html#cb157-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.8</span>),</span>
<span id="cb157-80"><a href="Visualizar-datos.html#cb157-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb157-81"><a href="Visualizar-datos.html#cb157-81" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="_main_images/waffle-plot-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Manipular-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Visualizar-riesgo.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
