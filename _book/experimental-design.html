<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R - Statistics Manual</title>
  <meta name="description" content="Statistics manual from CSCN.">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="R - Statistics Manual" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Statistics manual from CSCN." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R - Statistics Manual" />
  
  <meta name="twitter:description" content="Statistics manual from CSCN." />
  

<meta name="author" content="Center for Social and Cognitive Neuroscience - cscn.uai.cl">


<meta name="date" content="2017-06-01">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="bibliography-and-interesting-resources.html">
<link rel="next" href="classification.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#for-users"><i class="fa fa-check"></i><b>1.1</b> For USERS</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#for-developers-and-statisticians"><i class="fa fa-check"></i><b>1.2</b> For Developers and Statisticians</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#contributors"><i class="fa fa-check"></i><b>1.3</b> Contributors</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#todo"><i class="fa fa-check"></i><b>1.4</b> TODO</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#inferential-analysis"><i class="fa fa-check"></i><b>1.4.1</b> Inferential analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Empezando.html"><a href="Empezando.html"><i class="fa fa-check"></i><b>2</b> Empezando en A-B-C</a><ul>
<li class="chapter" data-level="2.1" data-path="Empezando.html"><a href="Empezando.html#a-instalar-r."><i class="fa fa-check"></i><b>2.1</b> <strong>(A)</strong> Instalar R.</a></li>
<li class="chapter" data-level="2.2" data-path="Empezando.html"><a href="Empezando.html#b-instalar-rstudio."><i class="fa fa-check"></i><b>2.2</b> <strong>(B)</strong> Instalar RStudio.</a></li>
<li class="chapter" data-level="2.3" data-path="Empezando.html"><a href="Empezando.html#instalar-packages"><i class="fa fa-check"></i><b>2.3</b> Instalar Packages</a></li>
<li class="chapter" data-level="2.4" data-path="Empezando.html"><a href="Empezando.html#cargar-packages"><i class="fa fa-check"></i><b>2.4</b> Cargar Packages</a></li>
<li class="chapter" data-level="2.5" data-path="Empezando.html"><a href="Empezando.html#todo-en-uno"><i class="fa fa-check"></i><b>2.5</b> Todo en uno</a></li>
<li class="chapter" data-level="2.6" data-path="Empezando.html"><a href="Empezando.html#c-librerias-para-el-workshop"><i class="fa fa-check"></i><b>2.6</b> <strong>(C)</strong> Librerias para el workshop</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html"><i class="fa fa-check"></i><b>3</b> Mi primer script</a><ul>
<li class="chapter" data-level="3.1" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#paso-a-paso"><i class="fa fa-check"></i><b>3.1</b> Paso a paso</a></li>
<li class="chapter" data-level="3.2" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#establecer-nuestro-directorio-de-trabajo"><i class="fa fa-check"></i><b>3.2</b> Establecer nuestro directorio de trabajo</a></li>
<li class="chapter" data-level="3.3" data-path="Mi-primer-script.html"><a href="Mi-primer-script.html#nuestro-primer-script"><i class="fa fa-check"></i><b>3.3</b> Nuestro primer script</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html"><i class="fa fa-check"></i><b>4</b> Conseguir ayuda y aprender más</a><ul>
<li class="chapter" data-level="4.1" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#cuando-sabemos-que-funcion-usar-pero-dudamos-de-la-sintaxis"><i class="fa fa-check"></i><b>4.1</b> Cuando sabemos que función usar, pero dudamos de la sintaxis:</a></li>
<li class="chapter" data-level="4.2" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#cuando-sabemos-lo-que-queremos-hacer-pero-no-la-funcion-que-debemos-usar"><i class="fa fa-check"></i><b>4.2</b> Cuando sabemos lo que queremos hacer pero no la función que debemos usar:</a></li>
<li class="chapter" data-level="4.3" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#libros-y-web-recomendados"><i class="fa fa-check"></i><b>4.3</b> Libros y Web recomendados</a><ul>
<li class="chapter" data-level="4.3.1" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#hadley-wickhams-books"><i class="fa fa-check"></i><b>4.3.1</b> Hadley Wickham’s books</a></li>
<li class="chapter" data-level="4.3.2" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#learning-statistics-with-r"><i class="fa fa-check"></i><b>4.3.2</b> Learning statistics with R</a></li>
<li class="chapter" data-level="4.3.3" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#pirate-guide-to-r"><i class="fa fa-check"></i><b>4.3.3</b> Pirate guide to R</a></li>
<li class="chapter" data-level="4.3.4" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#plots"><i class="fa fa-check"></i><b>4.3.4</b> Plots</a></li>
<li class="chapter" data-level="4.3.5" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#other-references"><i class="fa fa-check"></i><b>4.3.5</b> Other references</a></li>
<li class="chapter" data-level="4.3.6" data-path="Conseguir-ayuda.html"><a href="Conseguir-ayuda.html#twitter"><i class="fa fa-check"></i><b>4.3.6</b> Twitter</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html"><i class="fa fa-check"></i><b>5</b> Basics - Data types, import and export data</a><ul>
<li class="chapter" data-level="5.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#data-types"><i class="fa fa-check"></i><b>5.1</b> Data types</a><ul>
<li class="chapter" data-level="5.1.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#data-frames"><i class="fa fa-check"></i><b>5.1.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.1.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#matrices"><i class="fa fa-check"></i><b>5.1.2</b> Matrices</a></li>
<li class="chapter" data-level="5.1.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#listas"><i class="fa fa-check"></i><b>5.1.3</b> Listas</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-data"><i class="fa fa-check"></i><b>5.2</b> Import data</a><ul>
<li class="chapter" data-level="5.2.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-csv-file"><i class="fa fa-check"></i><b>5.2.1</b> From CSV file</a></li>
<li class="chapter" data-level="5.2.2" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-xls-file-excel"><i class="fa fa-check"></i><b>5.2.2</b> From XLS’ file (Excel)</a></li>
<li class="chapter" data-level="5.2.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#from-sav-file-spss"><i class="fa fa-check"></i><b>5.2.3</b> From SAV file (SPSS)</a></li>
<li class="chapter" data-level="5.2.4" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-all-files-from-a-folder"><i class="fa fa-check"></i><b>5.2.4</b> Import all files from a folder</a></li>
<li class="chapter" data-level="5.2.5" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#import-files-using-rstudio"><i class="fa fa-check"></i><b>5.2.5</b> Import files using RStudio</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#export-data"><i class="fa fa-check"></i><b>5.3</b> Export data</a><ul>
<li class="chapter" data-level="5.3.1" data-path="basics-data-types-import-and-export-data.html"><a href="basics-data-types-import-and-export-data.html#export-data-to-csv-file"><i class="fa fa-check"></i><b>5.3.1</b> Export data to CSV file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Manipular-datos.html"><a href="Manipular-datos.html"><i class="fa fa-check"></i><b>6</b> Manipular datos</a><ul>
<li class="chapter" data-level="6.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#leer-y-guardar-datos"><i class="fa fa-check"></i><b>6.1</b> Leer y guardar datos</a><ul>
<li class="chapter" data-level="6.1.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#leer-datos"><i class="fa fa-check"></i><b>6.1.1</b> Leer datos</a></li>
<li class="chapter" data-level="6.1.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#guardar-db-a-archivo"><i class="fa fa-check"></i><b>6.1.2</b> Guardar DB a archivo</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#ver-output-vs-asignar-output"><i class="fa fa-check"></i><b>6.2</b> Ver output vs asignar output</a></li>
<li class="chapter" data-level="6.3" data-path="Manipular-datos.html"><a href="Manipular-datos.html#verbos-de-dplyr"><i class="fa fa-check"></i><b>6.3</b> Verbos de dplyr</a><ul>
<li class="chapter" data-level="6.3.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#renombrar-variables"><i class="fa fa-check"></i><b>6.3.1</b> Renombrar variables</a></li>
<li class="chapter" data-level="6.3.2" data-path="Manipular-datos.html"><a href="Manipular-datos.html#seleccionar-variables"><i class="fa fa-check"></i><b>6.3.2</b> Seleccionar variables</a></li>
<li class="chapter" data-level="6.3.3" data-path="Manipular-datos.html"><a href="Manipular-datos.html#wide-to-long-format"><i class="fa fa-check"></i><b>6.3.3</b> Wide to Long format</a></li>
<li class="chapter" data-level="6.3.4" data-path="Manipular-datos.html"><a href="Manipular-datos.html#long-to-wide"><i class="fa fa-check"></i><b>6.3.4</b> Long to wide</a></li>
<li class="chapter" data-level="6.3.5" data-path="Manipular-datos.html"><a href="Manipular-datos.html#omitir-nas"><i class="fa fa-check"></i><b>6.3.5</b> Omitir NAs</a></li>
<li class="chapter" data-level="6.3.6" data-path="Manipular-datos.html"><a href="Manipular-datos.html#eliminar-variables"><i class="fa fa-check"></i><b>6.3.6</b> Eliminar variables</a></li>
<li class="chapter" data-level="6.3.7" data-path="Manipular-datos.html"><a href="Manipular-datos.html#crear-nuevas-variables"><i class="fa fa-check"></i><b>6.3.7</b> Crear nuevas variables:</a></li>
<li class="chapter" data-level="6.3.8" data-path="Manipular-datos.html"><a href="Manipular-datos.html#filtrar-datos"><i class="fa fa-check"></i><b>6.3.8</b> Filtrar datos</a></li>
<li class="chapter" data-level="6.3.9" data-path="Manipular-datos.html"><a href="Manipular-datos.html#recodificamos-datos"><i class="fa fa-check"></i><b>6.3.9</b> Recodificamos datos</a></li>
<li class="chapter" data-level="6.3.10" data-path="Manipular-datos.html"><a href="Manipular-datos.html#ordenar-db"><i class="fa fa-check"></i><b>6.3.10</b> Ordenar DB</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="Manipular-datos.html"><a href="Manipular-datos.html#combinar-bases-de-datos"><i class="fa fa-check"></i><b>6.4</b> Combinar bases de datos</a></li>
<li class="chapter" data-level="6.5" data-path="Manipular-datos.html"><a href="Manipular-datos.html#verbos-avanzados"><i class="fa fa-check"></i><b>6.5</b> Verbos avanzados</a><ul>
<li class="chapter" data-level="6.5.1" data-path="Manipular-datos.html"><a href="Manipular-datos.html#cambiar-multiples-columnas-de-un-tipo-a-otro"><i class="fa fa-check"></i><b>6.5.1</b> Cambiar multiples columnas de un tipo a otro</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="Manipular-datos.html"><a href="Manipular-datos.html#tutoriales-externos"><i class="fa fa-check"></i><b>6.6</b> Tutoriales externos</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html"><i class="fa fa-check"></i><b>7</b> Visualizar datos</a><ul>
<li class="chapter" data-level="7.1" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#que-grafica-puedo-usar-wip"><i class="fa fa-check"></i><b>7.1</b> Que gráfica puedo usar (WIP)</a></li>
<li class="chapter" data-level="7.2" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#tipos-de-graficas"><i class="fa fa-check"></i><b>7.2</b> Tipos de gráficas</a><ul>
<li class="chapter" data-level="7.2.1" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#histogramas"><i class="fa fa-check"></i><b>7.2.1</b> Histogramas</a></li>
<li class="chapter" data-level="7.2.2" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#Pirate-Plot"><i class="fa fa-check"></i><b>7.2.2</b> Pirate plot</a></li>
<li class="chapter" data-level="7.2.3" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#diagrama-de-caja-y-bigotes"><i class="fa fa-check"></i><b>7.2.3</b> Diagrama de caja y bigotes</a></li>
<li class="chapter" data-level="7.2.4" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#correlation-plot"><i class="fa fa-check"></i><b>7.2.4</b> Correlation plot</a></li>
<li class="chapter" data-level="7.2.5" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#beanplot"><i class="fa fa-check"></i><b>7.2.5</b> Beanplot</a></li>
<li class="chapter" data-level="7.2.6" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#scatterplot"><i class="fa fa-check"></i><b>7.2.6</b> Scatterplot</a></li>
<li class="chapter" data-level="7.2.7" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#scatterplot-con-3-variables"><i class="fa fa-check"></i><b>7.2.7</b> Scatterplot con 3 variables</a></li>
<li class="chapter" data-level="7.2.8" data-path="Visualizar-datos.html"><a href="Visualizar-datos.html#density-plots"><i class="fa fa-check"></i><b>7.2.8</b> Density plots</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html"><i class="fa fa-check"></i><b>8</b> Estadistica descriptiva</a><ul>
<li class="chapter" data-level="8.1" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#summary-de-datos"><i class="fa fa-check"></i><b>8.1</b> Summary de datos</a></li>
<li class="chapter" data-level="8.2" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#agrupamos-por-sujeto"><i class="fa fa-check"></i><b>8.2</b> Agrupamos por sujeto</a></li>
<li class="chapter" data-level="8.3" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#tutorial-externo"><i class="fa fa-check"></i><b>8.3</b> Tutorial externo</a></li>
<li class="chapter" data-level="8.4" data-path="Estadistica-descriptiva.html"><a href="Estadistica-descriptiva.html#findviews"><i class="fa fa-check"></i><b>8.4</b> Findviews</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html"><i class="fa fa-check"></i><b>9</b> Estadistica inferencial</a><ul>
<li class="chapter" data-level="9.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#algo-sobre-modelos-y-formulas"><i class="fa fa-check"></i><b>9.1</b> Algo sobre Modelos y Fórmulas</a></li>
<li class="chapter" data-level="9.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#preparacion-de-datos-y-packages"><i class="fa fa-check"></i><b>9.2</b> Preparación de datos y packages</a></li>
<li class="chapter" data-level="9.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#prueba-t-para-muestras-independientes"><i class="fa fa-check"></i><b>9.3</b> Prueba t para muestras independientes</a><ul>
<li class="chapter" data-level="9.3.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia"><i class="fa fa-check"></i><b>9.3.1</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.3.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test"><i class="fa fa-check"></i><b>9.3.2</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#prueba-t-para-muestras-dependientes"><i class="fa fa-check"></i><b>9.4</b> Prueba t para muestras dependientes</a><ul>
<li class="chapter" data-level="9.4.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia-1"><i class="fa fa-check"></i><b>9.4.1</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.4.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test-1"><i class="fa fa-check"></i><b>9.4.2</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#correlacion-de-pearson"><i class="fa fa-check"></i><b>9.5</b> Correlación de Pearson</a><ul>
<li class="chapter" data-level="9.5.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia-2"><i class="fa fa-check"></i><b>9.5.1</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.5.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test-2"><i class="fa fa-check"></i><b>9.5.2</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#regresion-simple"><i class="fa fa-check"></i><b>9.6</b> Regresión Simple</a><ul>
<li class="chapter" data-level="9.6.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia-3"><i class="fa fa-check"></i><b>9.6.1</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.6.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test-3"><i class="fa fa-check"></i><b>9.6.2</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#analsis-de-la-varianza-1-factor"><i class="fa fa-check"></i><b>9.7</b> Análsis de la Varianza (1 Factor)</a><ul>
<li class="chapter" data-level="9.7.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#preparacion-de-datos-y-packages-1"><i class="fa fa-check"></i><b>9.7.1</b> Preparación de datos y packages</a></li>
<li class="chapter" data-level="9.7.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia-4"><i class="fa fa-check"></i><b>9.7.2</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.7.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test-4"><i class="fa fa-check"></i><b>9.7.3</b> Test</a></li>
<li class="chapter" data-level="9.7.4" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#tablas"><i class="fa fa-check"></i><b>9.7.4</b> Tablas</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#analsis-de-la-varianza-2-factores"><i class="fa fa-check"></i><b>9.8</b> Análsis de la Varianza (2 Factores)</a><ul>
<li class="chapter" data-level="9.8.1" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#descarga"><i class="fa fa-check"></i><b>9.8.1</b> Descarga</a></li>
<li class="chapter" data-level="9.8.2" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#preparacion-de-datos-y-packages-2"><i class="fa fa-check"></i><b>9.8.2</b> Preparación de datos y packages</a></li>
<li class="chapter" data-level="9.8.3" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#contando-la-historia-5"><i class="fa fa-check"></i><b>9.8.3</b> Contando la historia…</a></li>
<li class="chapter" data-level="9.8.4" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#test-5"><i class="fa fa-check"></i><b>9.8.4</b> Test</a></li>
<li class="chapter" data-level="9.8.5" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#tablas-1"><i class="fa fa-check"></i><b>9.8.5</b> Tablas</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="Estadistica-inferencial.html"><a href="Estadistica-inferencial.html#referencias-y-fuentes"><i class="fa fa-check"></i><b>9.9</b> Referencias y Fuentes</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="association-test.html"><a href="association-test.html"><i class="fa fa-check"></i><b>10</b> Association test</a><ul>
<li class="chapter" data-level="10.0.1" data-path="association-test.html"><a href="association-test.html#frequentist-1"><i class="fa fa-check"></i><b>10.0.1</b> Frequentist</a></li>
<li class="chapter" data-level="10.0.2" data-path="association-test.html"><a href="association-test.html#bayesian-2"><i class="fa fa-check"></i><b>10.0.2</b> Bayesian</a></li>
<li class="chapter" data-level="10.0.3" data-path="association-test.html"><a href="association-test.html#results-report---wip"><i class="fa fa-check"></i><b>10.0.3</b> Results report - WIP</a></li>
<li class="chapter" data-level="10.0.4" data-path="association-test.html"><a href="association-test.html#references"><i class="fa fa-check"></i><b>10.0.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="anova-repeated-measures.html"><a href="anova-repeated-measures.html"><i class="fa fa-check"></i><b>11</b> ANOVA repeated measures</a></li>
<li class="chapter" data-level="12" data-path="meta-analysis.html"><a href="meta-analysis.html"><i class="fa fa-check"></i><b>12</b> Meta analysis</a><ul>
<li class="chapter" data-level="12.1" data-path="meta-analysis.html"><a href="meta-analysis.html#natural-frequencies-effect"><i class="fa fa-check"></i><b>12.1</b> Natural Frequencies Effect</a></li>
<li class="chapter" data-level="12.2" data-path="meta-analysis.html"><a href="meta-analysis.html#pictures-effect"><i class="fa fa-check"></i><b>12.2</b> Pictures Effect</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="Funciones.html"><a href="Funciones.html"><i class="fa fa-check"></i><b>13</b> Funciones</a><ul>
<li class="chapter" data-level="13.1" data-path="Funciones.html"><a href="Funciones.html#creando-mi-primera-funcion"><i class="fa fa-check"></i><b>13.1</b> Creando mi primera función</a><ul>
<li class="chapter" data-level="13.1.1" data-path="Funciones.html"><a href="Funciones.html#pirate-plot-original"><i class="fa fa-check"></i><b>13.1.1</b> Pirate plot original</a></li>
<li class="chapter" data-level="13.1.2" data-path="Funciones.html"><a href="Funciones.html#nuestra-funcion"><i class="fa fa-check"></i><b>13.1.2</b> Nuestra función</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="pre-processing.html"><a href="pre-processing.html"><i class="fa fa-check"></i><b>14</b> Pre-processing</a><ul>
<li class="chapter" data-level="14.1" data-path="pre-processing.html"><a href="pre-processing.html#rt-filtering"><i class="fa fa-check"></i><b>14.1</b> RT filtering</a><ul>
<li class="chapter" data-level="14.1.1" data-path="pre-processing.html"><a href="pre-processing.html#function-to-filter-by-rt"><i class="fa fa-check"></i><b>14.1.1</b> Function to filter by RT</a></li>
<li class="chapter" data-level="14.1.2" data-path="pre-processing.html"><a href="pre-processing.html#n-sd-from-the-median-mad-1"><i class="fa fa-check"></i><b>14.1.2</b> n SD from the median (MAD)</a></li>
<li class="chapter" data-level="14.1.3" data-path="pre-processing.html"><a href="pre-processing.html#gamma-law-regression-analyses-2"><i class="fa fa-check"></i><b>14.1.3</b> Gamma law regression analyses</a></li>
<li class="chapter" data-level="14.1.4" data-path="pre-processing.html"><a href="pre-processing.html#logarithms"><i class="fa fa-check"></i><b>14.1.4</b> Logarithms</a></li>
<li class="chapter" data-level="14.1.5" data-path="pre-processing.html"><a href="pre-processing.html#references-1"><i class="fa fa-check"></i><b>14.1.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="pre-processing.html"><a href="pre-processing.html#reliability"><i class="fa fa-check"></i><b>14.2</b> Reliability</a><ul>
<li class="chapter" data-level="14.2.1" data-path="pre-processing.html"><a href="pre-processing.html#cronbachs-alpha"><i class="fa fa-check"></i><b>14.2.1</b> Cronbach’s Alpha</a></li>
<li class="chapter" data-level="14.2.2" data-path="pre-processing.html"><a href="pre-processing.html#omega"><i class="fa fa-check"></i><b>14.2.2</b> Omega</a></li>
<li class="chapter" data-level="14.2.3" data-path="pre-processing.html"><a href="pre-processing.html#references-2"><i class="fa fa-check"></i><b>14.2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="pre-processing.html"><a href="pre-processing.html#impute-missing-data"><i class="fa fa-check"></i><b>14.3</b> Impute missing data</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html"><i class="fa fa-check"></i><b>15</b> Bibliography and interesting resources</a><ul>
<li class="chapter" data-level="15.1" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html#bibliography"><i class="fa fa-check"></i><b>15.1</b> Bibliography</a></li>
<li class="chapter" data-level="15.2" data-path="bibliography-and-interesting-resources.html"><a href="bibliography-and-interesting-resources.html#interesting-resources---potentially"><i class="fa fa-check"></i><b>15.2</b> Interesting resources - potentially</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="experimental-design.html"><a href="experimental-design.html"><i class="fa fa-check"></i><b>16</b> Experimental design</a><ul>
<li class="chapter" data-level="16.1" data-path="experimental-design.html"><a href="experimental-design.html#tamano-de-muestra-y-efecto-detectado"><i class="fa fa-check"></i><b>16.1</b> Tamaño de muestra y efecto detectado</a></li>
<li class="chapter" data-level="16.2" data-path="experimental-design.html"><a href="experimental-design.html#power-analysis"><i class="fa fa-check"></i><b>16.2</b> Power analysis</a></li>
<li class="chapter" data-level="16.3" data-path="experimental-design.html"><a href="experimental-design.html#anonimizar-participantes---encriptar-ids"><i class="fa fa-check"></i><b>16.3</b> Anonimizar participantes - Encriptar IDs</a><ul>
<li class="chapter" data-level="16.3.1" data-path="experimental-design.html"><a href="experimental-design.html#encriptando-y-desencriptando-un-elemento"><i class="fa fa-check"></i><b>16.3.1</b> Encriptando y desencriptando un elemento</a></li>
<li class="chapter" data-level="16.3.2" data-path="experimental-design.html"><a href="experimental-design.html#encriptando-y-desencriptando-la-columna-rut-de-una-db-completa."><i class="fa fa-check"></i><b>16.3.2</b> Encriptando y desencriptando la columna RUT de una DB completa.</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="experimental-design.html"><a href="experimental-design.html#match-participants"><i class="fa fa-check"></i><b>16.4</b> Match participants</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>17</b> Classification</a><ul>
<li class="chapter" data-level="17.1" data-path="classification.html"><a href="classification.html#fast-and-frugal-trees"><i class="fa fa-check"></i><b>17.1</b> Fast and frugal trees</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="other-stuff.html"><a href="other-stuff.html"><i class="fa fa-check"></i><b>18</b> Other stuff</a><ul>
<li class="chapter" data-level="18.1" data-path="other-stuff.html"><a href="other-stuff.html#maps---generate-and-locate-cities-in-a-world-map"><i class="fa fa-check"></i><b>18.1</b> Maps - Generate and locate cities in a world map</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="exercices-solutions.html"><a href="exercices-solutions.html"><i class="fa fa-check"></i><b>19</b> Exercices solutions</a><ul>
<li class="chapter" data-level="19.1" data-path="exercices-solutions.html"><a href="exercices-solutions.html#exercices-1"><i class="fa fa-check"></i><b>19.1</b> Exercices 1</a></li>
<li class="chapter" data-level="19.2" data-path="exercices-solutions.html"><a href="exercices-solutions.html#Ejercicios2"><i class="fa fa-check"></i><b>19.2</b> Ejercicios 2</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="exercices.html"><a href="exercices.html"><i class="fa fa-check"></i><b>20</b> Exercices</a><ul>
<li class="chapter" data-level="20.1" data-path="exercices.html"><a href="exercices.html#Ejercicios1"><i class="fa fa-check"></i><b>20.1</b> Ejercicios 1</a></li>
<li class="chapter" data-level="20.2" data-path="exercices-solutions.html"><a href="exercices-solutions.html#Ejercicios2"><i class="fa fa-check"></i><b>20.2</b> Ejercicios 2</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="todo-curso-basico-r-2016.html"><a href="todo-curso-basico-r-2016.html"><i class="fa fa-check"></i><b>21</b> TODO - Curso Basico R - 2016</a></li>
<li class="chapter" data-level="22" data-path="en-ejercicios.html"><a href="en-ejercicios.html"><i class="fa fa-check"></i><b>22</b> EN EJERCICIOS:</a><ul>
<li class="chapter" data-level="22.1" data-path="en-ejercicios.html"><a href="en-ejercicios.html#todo---limpieza-general"><i class="fa fa-check"></i><b>22.1</b> TODO - Limpieza general</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="todo-1.html"><a href="todo-1.html"><i class="fa fa-check"></i><b>23</b> TODO</a><ul>
<li class="chapter" data-level="23.1" data-path="todo-1.html"><a href="todo-1.html#urgent-stuff"><i class="fa fa-check"></i><b>23.1</b> Urgent stuff</a></li>
<li class="chapter" data-level="23.2" data-path="todo-1.html"><a href="todo-1.html#important"><i class="fa fa-check"></i><b>23.2</b> Important</a></li>
<li class="chapter" data-level="23.3" data-path="todo-1.html"><a href="todo-1.html#index-proposal"><i class="fa fa-check"></i><b>23.3</b> <strong>INDEX PROPOSAL</strong></a></li>
<li class="chapter" data-level="23.4" data-path="todo-1.html"><a href="todo-1.html#style-guide"><i class="fa fa-check"></i><b>23.4</b> Style guide</a><ul>
<li class="chapter" data-level="23.4.1" data-path="todo-1.html"><a href="todo-1.html#sections"><i class="fa fa-check"></i><b>23.4.1</b> Sections</a></li>
<li class="chapter" data-level="23.4.2" data-path="todo-1.html"><a href="todo-1.html#general"><i class="fa fa-check"></i><b>23.4.2</b> General</a></li>
</ul></li>
<li class="chapter" data-level="23.5" data-path="todo-1.html"><a href="todo-1.html#notas---remember"><i class="fa fa-check"></i><b>23.5</b> NOTAS - REMEMBER</a><ul>
<li class="chapter" data-level="23.5.1" data-path="todo-1.html"><a href="todo-1.html#refs"><i class="fa fa-check"></i><b>23.5.1</b> REFS</a></li>
<li class="chapter" data-level="23.5.2" data-path="todo-1.html"><a href="todo-1.html#notas"><i class="fa fa-check"></i><b>23.5.2</b> NOTAS</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R - Statistics Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="experimental-design" class="section level1">
<h1><span class="header-section-number">Chapter 16</span> Experimental design</h1>
<div id="tamano-de-muestra-y-efecto-detectado" class="section level2">
<h2><span class="header-section-number">16.1</span> Tamaño de muestra y efecto detectado</h2>
<p>En esta simulación se muestra como con tamaños de muestra pequeños, se sobreestima el tamaño de efecto real. Como se puede ver en el codigo, solo se muestran los estudios simulados donde la correlacion es significativa. Ver el <a href="https://jimgrange.wordpress.com/2017/03/06/low-power-effect-sizes/">blog de Jim Grange</a> para una explicación más detallada.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># https://jimgrange.wordpress.com/2017/03/06/low-power-effect-sizes/</span>
<span class="co">#------------------------------------------------------------------------------</span>
<span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())

<span class="kw">set.seed</span>(<span class="dv">50</span>)

<span class="co"># function for generating random draws from multivariate distribution</span>
<span class="co"># n = number of draws; p = number of variables</span>
<span class="co"># u = mean of each variable; s = SD of each variable</span>
<span class="co"># corMat = correlation matrix</span>
mvrnorm &lt;-<span class="st"> </span>function(n, p, u, s, corMat) {
  Z &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(n *<span class="st"> </span>p), p, n)
  <span class="kw">t</span>(u +<span class="st"> </span>s *<span class="st"> </span><span class="kw">t</span>(<span class="kw">chol</span>(corMat)) %*%<span class="st"> </span>Z)
}

<span class="co">#------------------------------------------------------------------------------</span>

<span class="co">#------------------------------------------------------------------------------</span>
### simulation setup

<span class="co"># declare simulation parameters</span>
means &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">600</span>)
sds &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">20</span>, <span class="dv">80</span>)
n_sims =<span class="st"> </span><span class="dv">1000</span>

<span class="co"># declare correlation coefficient &amp; generate cor. matrix</span>
cor &lt;-<span class="st"> </span><span class="fl">0.3</span>
cor_mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, cor, 
                    cor, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">2</span>, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)

<span class="co"># sample sizes to simulate</span>
sample_sizes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">50</span>, <span class="dv">85</span>, <span class="dv">170</span>, <span class="dv">500</span>, <span class="dv">1000</span>)

<span class="co"># number of simulations</span>

<span class="co"># create variable to store data in</span>
final_data &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> n_sims, <span class="dt">ncol =</span> <span class="kw">length</span>(sample_sizes))
<span class="kw">colnames</span>(final_data) &lt;-<span class="st"> </span>sample_sizes
<span class="co">#------------------------------------------------------------------------------</span>

<span class="co">#------------------------------------------------------------------------------</span>
### simulation execution

for(i in <span class="dv">1</span>:<span class="kw">length</span>(sample_sizes)){
  for(j in <span class="dv">1</span>:n_sims){
    
    <span class="co"># get the experiment data</span>
    sim_data &lt;-<span class="st"> </span><span class="kw">mvrnorm</span>(sample_sizes[i], <span class="dt">p =</span> <span class="dv">2</span>, <span class="dt">u =</span> means, <span class="dt">s =</span> sds, 
                        <span class="dt">corMat =</span> cor_mat)
    
    <span class="co"># perform the correlation</span>
    sim_cor &lt;-<span class="st"> </span><span class="kw">cor.test</span>(sim_data[, <span class="dv">1</span>], sim_data[, <span class="dv">2</span>], <span class="dt">method =</span> <span class="st">&quot;pearson&quot;</span>)
    
    <span class="co"># if the correlation is significant, store the effect size</span>
    if(sim_cor$p.value &lt;<span class="st"> </span><span class="fl">0.05</span>){
      final_data[j, i] &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(<span class="kw">round</span>(<span class="kw">abs</span>(sim_cor$estimate), <span class="dv">3</span>))
    }
  }
}
<span class="co">#------------------------------------------------------------------------------</span>

<span class="co">#------------------------------------------------------------------------------</span>
## draw the plot
<span class="kw">boxplot</span>(final_data, <span class="dt">na.action=</span>na.omit, <span class="dt">xlab =</span> <span class="st">&quot;Simulated Sample Size&quot;</span>, 
        <span class="dt">ylab =</span> <span class="st">&quot;Measured Effect Size&quot;</span>)
<span class="kw">abline</span>(<span class="dt">h =</span> cor, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">lwd =</span> <span class="dv">3</span>)

<span class="kw">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="st">&quot;True Effect Size&quot;</span>, <span class="dt">cex =</span> <span class="fl">1.5</span>,  <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">bty=</span><span class="st">&quot;n&quot;</span>, 
       <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">lwd =</span> <span class="dv">3</span>)</code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-104-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#------------------------------------------------------------------------------</span></code></pre></div>
</div>
<div id="power-analysis" class="section level2">
<h2><span class="header-section-number">16.2</span> Power analysis</h2>
<p>Tenemos un conjunto de funciones que nos permiten hacer power analysis para distintos tipos de diseños: * pwr.t.test * pwr.t2n.test * pwr.anova.test</p>
<p>En cada uno de ellos podemos modificar varios parámetros. El parámetro que dejemos sin especificar será el que se calculará: * k = groups * n = participants (in each group) * f = effect size * sig.level = sig level * power = power</p>
<ul>
<li>Libraries</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (!<span class="kw">require</span>(<span class="st">&#39;pacman&#39;</span>)) <span class="kw">install.packages</span>(<span class="st">&#39;pacman&#39;</span>); <span class="kw">library</span>(<span class="st">&#39;pacman&#39;</span>)
<span class="kw">p_load</span>(pwr, tidyverse)</code></pre></div>
<ul>
<li>Code</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#T-test</span>
<span class="kw">pwr.t.test</span>(<span class="dt">n =</span> , <span class="dt">d =</span> <span class="fl">0.8</span>, <span class="dt">sig.level =</span> <span class="fl">0.05</span>, <span class="dt">power =</span> <span class="fl">0.95</span>, <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&quot;two.sample&quot;</span>))</code></pre></div>
<pre><code>## 
##      Two-sample t test power calculation 
## 
##               n = 41.59413
##               d = 0.8
##       sig.level = 0.05
##           power = 0.95
##     alternative = two.sided
## 
## NOTE: n is number in *each* group</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#T-test </span>
<span class="kw">pwr.t2n.test</span>(<span class="dt">n1 =</span> <span class="dv">150</span>, <span class="dt">n2 =</span> <span class="dv">75</span>, <span class="dt">d =</span> , <span class="dt">sig.level =</span> <span class="fl">0.05</span>, <span class="dt">power =</span> <span class="fl">0.8</span>)</code></pre></div>
<pre><code>## 
##      t test power calculation 
## 
##              n1 = 150
##              n2 = 75
##               d = 0.3979226
##       sig.level = 0.05
##           power = 0.8
##     alternative = two.sided</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Anova </span>
<span class="kw">pwr.anova.test</span>(<span class="dt">k =</span> <span class="dv">3</span>, <span class="dt">n =</span> , <span class="dt">f =</span> .<span class="dv">25</span>, <span class="dt">sig.level =</span> <span class="fl">0.05</span>, <span class="dt">power =</span> .<span class="dv">8</span>)</code></pre></div>
<pre><code>## 
##      Balanced one-way analysis of variance power calculation 
## 
##               k = 3
##               n = 52.3966
##               f = 0.25
##       sig.level = 0.05
##           power = 0.8
## 
## NOTE: n is number in each group</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Effect size that we can detect</span>
<span class="kw">pwr.anova.test</span>(<span class="dt">k =</span> <span class="dv">6</span>, <span class="dt">n =</span> <span class="dv">42</span>, <span class="dt">sig.level =</span> <span class="fl">0.05</span>, <span class="dt">power =</span> .<span class="dv">95</span>)</code></pre></div>
<pre><code>## 
##      Balanced one-way analysis of variance power calculation 
## 
##               k = 6
##               n = 42
##               f = 0.283334
##       sig.level = 0.05
##           power = 0.95
## 
## NOTE: n is number in each group</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Sample size needed to detect an effect of f=0.5</span>
<span class="kw">pwr.anova.test</span>(<span class="dt">k =</span> <span class="dv">2</span>, <span class="dt">f =</span> <span class="fl">0.5</span>, <span class="dt">sig.level =</span> <span class="fl">0.05</span>, <span class="dt">power =</span> .<span class="dv">95</span>)</code></pre></div>
<pre><code>## 
##      Balanced one-way analysis of variance power calculation 
## 
##               k = 2
##               n = 26.9892
##               f = 0.5
##       sig.level = 0.05
##           power = 0.95
## 
## NOTE: n is number in each group</code></pre>

</div>
<div id="anonimizar-participantes---encriptar-ids" class="section level2">
<h2><span class="header-section-number">16.3</span> Anonimizar participantes - Encriptar IDs</h2>
<p><strong>Libraries</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (!<span class="kw">require</span>(<span class="st">&#39;pacman&#39;</span>)) <span class="kw">install.packages</span>(<span class="st">&#39;pacman&#39;</span>); <span class="kw">library</span>(<span class="st">&#39;pacman&#39;</span>)
<span class="kw">p_load</span>(hashids, tidyverse)</code></pre></div>
<div id="encriptando-y-desencriptando-un-elemento" class="section level3">
<h3><span class="header-section-number">16.3.1</span> Encriptando y desencriptando un elemento</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">h =<span class="st"> </span><span class="kw">hashid_settings</span>(<span class="dt">salt =</span> <span class="st">&#39;this is my salt&#39;</span>)

<span class="co"># Numbers to encode</span>
Plain_ID =<span class="st"> </span><span class="kw">c</span>(<span class="dv">12345678</span>); Plain_ID</code></pre></div>
<pre><code>## [1] 12345678</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a =<span class="st"> </span><span class="kw">encode</span>(Plain_ID, h); a <span class="co">#&quot;BZ9RNV&quot;</span></code></pre></div>
<pre><code>## [1] &quot;BZ9RNV&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">decode</span>(<span class="st">&quot;BZ9RNV&quot;</span>, h) <span class="co">#12345678</span></code></pre></div>
<pre><code>## [1] 12345678</code></pre>
</div>
<div id="encriptando-y-desencriptando-la-columna-rut-de-una-db-completa." class="section level3">
<h3><span class="header-section-number">16.3.2</span> Encriptando y desencriptando la columna RUT de una DB completa.</h3>
<p>Generamos aleatoriamente numeros de identificacion “similares” a RUTs, los encriptamos, y despues desencriptamos.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cargamos librerias y leemos DB</span>
if (!<span class="kw">require</span>(<span class="st">&#39;pacman&#39;</span>)) <span class="kw">install.packages</span>(<span class="st">&#39;pacman&#39;</span>); <span class="kw">library</span>(<span class="st">&#39;pacman&#39;</span>)
<span class="kw">p_load</span>(hashids, tidyverse)

<span class="co"># Pseudo RUTs generadas aleatoriamente</span>
data =<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">100</span>)*<span class="dv">10000000</span>) %&gt;%<span class="st"> </span><span class="kw">as_tibble</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span>dplyr::<span class="kw">rename</span>(<span class="dt">RUT =</span> value)</code></pre></div>
<p><strong>BUG: When building book with Bookdown, it ignores the rowwise() argument!?</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">h =<span class="st"> </span><span class="kw">hashid_settings</span>(<span class="dt">salt =</span> <span class="st">&#39;this is my salt&#39;</span>)

<span class="co"># Encriptamos</span>
data =<span class="st"> </span>data %&gt;%<span class="st"> </span>
<span class="st">  </span>dplyr::<span class="kw">rowwise</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">RUT_Encripted =</span> <span class="kw">encode</span>(RUT, h))

<span class="co"># Desencriptamos</span>
data =<span class="st"> </span>data %&gt;%<span class="st"> </span>
<span class="st">  </span>dplyr::<span class="kw">rowwise</span>() %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">RUT_Decripted =</span> <span class="kw">decode</span>(RUT_Encripted, h))</code></pre></div>
<pre><code>## Warning in if (hash_str == &quot;&quot;) stop(&quot;decode: invalid hashid&quot;): the
## condition has length &gt; 1 and only the first element will be used</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Mostramos los resultados</span>
data %&gt;%<span class="st"> </span><span class="kw">select</span>(RUT_Encripted, RUT_Decripted, RUT)</code></pre></div>
<pre><code>## Source: local data frame [100 x 3]
## Groups: &lt;by row&gt;
## 
## # A tibble: 100 x 3
##                                                                  RUT_Encripted
##  *                                                                       &lt;chr&gt;
##  1 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  2 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  3 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  4 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  5 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  6 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  7 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  8 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
##  9 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
## 10 kB3YkhnpJ2WCB7aDLh5knmJcN7oetq9xPmIv59o8C53r8tPR7kzcXqoWXCVrPEeTWyNlLuneaXJ
## # ... with 90 more rows, and 2 more variables: RUT_Decripted &lt;dbl&gt;,
## #   RUT &lt;dbl&gt;</code></pre>

</div>
</div>
<div id="match-participants" class="section level2">
<h2><span class="header-section-number">16.4</span> Match participants</h2>
<hr />
<p>Usaremos la siguiente <a href="Data/11-Experimental_design/Match_participants.csv">Base de datos</a></p>
<hr />
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Cargamos librerias y leemos DBif (!require(&#39;pacman&#39;)) install.packages(&#39;pacman&#39;); library(&#39;pacman&#39;)</span>
<span class="kw">p_load</span>(optmatch, tidyverse)

<span class="co"># Archivo de data crudos</span>
<span class="co"># RUTs y Edades generadas aleatoriamente</span>
data =<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;Data/11-Experimental_design/Match_participants.csv&quot;</span>)

<span class="kw">head</span>(data)</code></pre></div>
<pre><code>## # A tibble: 6 x 7
##      ID    RUT   Sexo  Edad                           Ocupacion Educacion
##   &lt;int&gt;  &lt;int&gt;  &lt;chr&gt; &lt;int&gt;                               &lt;chr&gt;     &lt;chr&gt;
## 1     1 588006  Mujer    29              ASISTENTE DE TESORERIA   Técnica
## 2     2 188576  Mujer    21                 Ingeniero Comercial  Maestría
## 3     3 206609 Hombre    46                          trabajador   Técnica
## 4     4 404898  Mujer    52                           Psicóloga  Maestría
## 5     5 533281  Mujer    63 Controller Postgrados Ejecutivos EN  Maestría
## 6     6  60824 Hombre    29                  Ingeniro Comercial  Maestría
## # ... with 1 more variables: Porcentaje_ahorro &lt;dbl&gt;</code></pre>
<p>Preparamos la base de datos</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Umbrales para ahorradores y no ahorradores</span>
Criterio_ahorradores =<span class="st"> </span><span class="dv">20</span>
Criterio_no_ahorradores =<span class="st"> </span><span class="dv">2</span>

<span class="co"># Mostramos histograma</span>
<span class="kw">hist</span>(data$Porcentaje_ahorro, <span class="dt">breaks =</span> <span class="dv">100</span>)</code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-112-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Creamos grupos de Ahorradores (0) y No ahorradores (1)</span>
data$Ahorro =<span class="st"> </span><span class="kw">ifelse</span>(data$Porcentaje_ahorro &lt;=<span class="st"> </span>Criterio_no_ahorradores, <span class="dv">1</span>,
                      <span class="kw">ifelse</span>(data$Porcentaje_ahorro &gt;=<span class="st"> </span>Criterio_ahorradores, <span class="dv">0</span>, <span class="ot">NA</span>
                      ))

<span class="co"># Cuantos tenemos en cada grupo?</span>
<span class="kw">table</span>(data$Ahorro)</code></pre></div>
<pre><code>## 
##   0   1 
## 113  66</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Limpiamos NAs en Ahorro y RUTs duplicados</span>
data =<span class="st"> </span>data[<span class="kw">complete.cases</span>(data),]
data =<span class="st"> </span>data[!<span class="kw">duplicated</span>(data$ID),]

<span class="co">#Eliminamos a los Estudiantes</span>
data =<span class="st"> </span>data[!<span class="kw">grepl</span>(<span class="st">&quot;studiante&quot;</span>, data$Ocupacion),]

<span class="co">#Recreamos columna ID para los registros que quedan</span>
data$ID =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>:<span class="kw">nrow</span>(data))</code></pre></div>
<p>Realizamos el matching</p>
<p><strong>TODO: Como evaluamos si el matching es bueno?</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Creamos base de parejas</span>
parejas =<span class="st"> </span><span class="kw">as.data.frame</span>((<span class="kw">pairmatch</span>(Ahorro ~<span class="st"> </span>Edad +<span class="st"> </span>Sexo +<span class="st"> </span>Educacion, <span class="dt">data =</span> data)))
    <span class="co"># caliper establece limites para los matchings</span>
    <span class="co"># print(pairmatch(Ahorro ~ Edad + Sexo + Educacion, caliper = 4.9, data = data), grouped = TRUE)</span>

<span class="co">#Como evaluamos si es buena la seleccion?</span>
<span class="co"># summary(lm(Ahorro ~ Edad + Sexo + Educacion, data = data))</span>

<span class="co">#Añadimos columna ID y renombramos columnas</span>
parejas$ID =<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>:<span class="kw">nrow</span>(data))
<span class="kw">colnames</span>(parejas) =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Group&quot;</span>, <span class="st">&quot;ID&quot;</span>)

<span class="co">#Combinamos ambas bases y limpiamos</span>
datos_combinados =<span class="st"> </span><span class="kw">merge</span>(data, parejas, <span class="dt">by =</span> <span class="st">&quot;ID&quot;</span>)
datos_combinados =<span class="st"> </span>datos_combinados[<span class="kw">complete.cases</span>(datos_combinados),]

<span class="co">#Ordenamos por Num de grupo y Ahorro</span>
datos_finales =<span class="st"> </span>datos_combinados %&gt;%<span class="st"> </span><span class="kw">arrange</span>(Group, Ahorro)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Cuantos en cada grupo?</span>
<span class="kw">table</span>(datos_finales$Ahorro)</code></pre></div>
<pre><code>## 
##  0  1 
## 58 58</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># datos_finales %&gt;% dplyr::select(Edad, Sexo, Educacion, Porcentaje_ahorro)</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="bibliography-and-interesting-resources.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
